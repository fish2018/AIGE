/* empty css                 */import{C as ml,D as $,d as Be,r as m,a as pe,p as ne,q as Re,c as v,m as s,b as e,k as Ne,w as l,l as g,f as Ye,i as Ze,G as el,F as X,v as Y,g as Z,h as F,t as A,H as ll,I as pl,J as vl,K as al,L as I,M as _l,N as tl,O as fl,P as gl,Q as We,R as Qe,j as je,S as sl,T as ol,U as nl,V as yl,A as dl,n as _,W as $e,_ as wl,X as bl,o as u,Y as il,B as hl,u as kl,e as Vl,Z as Cl,$ as Pl,a0 as Ml,a1 as $l,a2 as Al,a3 as Il,a4 as xl,a5 as Xe,a6 as Ul,a7 as Sl,a8 as El,a9 as Tl,aa as zl,ab as Dl,ac as Gl,ad as Ll,ae as Ol,af as Bl,ag as Rl,ah as Nl,E as jl,x as Fl,ai as ql,aj as Hl,ak as Kl}from"./index-Bg5OSMIo.js";import{_ as Fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{k as Jl}from"./marked.esm-z4go5P_g.js";const qe=ml("admin",()=>({getUsers:async()=>(await $.get("/admin/users")).users,getUser:async d=>await $.get(`/admin/users/${d}`),updateUserPassword:async(d,i)=>{await $.put(`/admin/users/${d}/password`,{new_password:i})},deleteUser:async d=>{await $.delete(`/admin/users/${d}`)},toggleUserAdmin:async d=>{await $.put(`/admin/users/${d}/toggle-admin`)},getProviders:async()=>(await $.get("/admin/providers")).providers,getProvider:async d=>await $.get(`/admin/providers/${d}`),createProvider:async d=>await $.post("/admin/providers",d),updateProvider:async(d,i)=>await $.put(`/admin/providers/${d}`,i),deleteProvider:async d=>{await $.delete(`/admin/providers/${d}`)},toggleProvider:async d=>await $.put(`/admin/providers/${d}/toggle`),getAvailableModels:async(d,i)=>{const r=i?`/admin/providers/${d}/models/available?api_type=${i}`:`/admin/providers/${d}/models/available`;return(await $.get(r)).models},testConnection:async(d,i)=>{const r=i?`/admin/providers/${d}/test?model_id=${i}`:`/admin/providers/${d}/test`;return await $.get(r)},getModels:async d=>{const i=d?`/admin/models?provider_id=${d}`:"/admin/models";return(await $.get(i)).models},getModel:async d=>await $.get(`/admin/models/${d}`),createModel:async d=>await $.post("/admin/models",d),updateModel:async(d,i)=>await $.put(`/admin/models/${d}`,i),deleteModel:async d=>{await $.delete(`/admin/models/${d}`)},toggleModel:async d=>await $.put(`/admin/models/${d}/toggle`),testModel:async d=>await $.post(`/admin/models/${d}/test`),updateModelCapabilities:async(d,i)=>await $.put(`/admin/models/${d}/capabilities`,{capabilities:i})})),Wl={class:"provider-management"},Ql={class:"game-ai-config",style:{"margin-bottom":"24px"}},Xl={class:"config-header"},Yl={class:"config-content"},Zl={class:"default-model-selectors"},ea={class:"game-model-list"},la={class:"game-info"},aa={class:"game-name"},ta={class:"model-selectors"},sa={key:0,class:"no-games"},oa={style:{"margin-bottom":"24px"}},na={class:"page-header"},da={key:0,class:"empty-state"},ia={key:1,class:"providers-list"},ra={class:"provider-header"},ua={class:"provider-title"},ca={style:{margin:"0 8px","font-size":"16px","font-weight":"500"}},ma={class:"provider-actions"},pa={class:"provider-fields"},va={class:"field-item"},_a={class:"field-item"},fa={class:"field-label"},ga={key:0,style:{"font-size":"12px",color:"#909399"}},ya={class:"models-header"},wa={class:"field-label"},ba={class:"models-list"},ha={key:0,class:"models-empty"},ka={class:"model-info"},Va={class:"model-name"},Ca={class:"model-actions"},Pa={class:"provider-types"},Ma=["onClick"],$a={key:0,style:{"margin-left":"12px",color:"#67c23a"}},Aa={class:"model-select-list"},Ia=["onClick"],xa={key:0,class:"model-select-empty"},Ua=Be({__name:"ProviderManagement",setup(_e){const y=qe(),L=m([]),K=m(!1),V=m(!1),w=m(!1),x=m(!1),C=m(!1),b=m(null),P=m(null),h=m(null),q=m(!1),T=m([]),B=m(""),U=m(""),z=m(null),J=m([]),M=pe({defaultModelId:"",gameModels:{}}),R=m(!1),D=m(null),N=m(""),d=pe({}),i=pe({}),r=ne(()=>L.value.filter(t=>t.enabled)),H=ne(()=>{const t=[];for(const a of L.value)if(a.models)for(const p of a.models)p.enabled&&a.enabled&&t.push({...p,provider:a});return t}),W=ne(()=>D.value?H.value.filter(t=>t.provider_id===D.value):[]),ce=t=>{const a=d[t];return a?H.value.filter(p=>p.provider_id===a):[]},E=m({type:"openai",name:"",api_key:"",base_url:""}),S=m({model_id:"",name:"",api_type:"openai",provider_id:0}),c=[{value:"openai",label:"OpenAI",description:"GPT-4, GPT-3.5ç­‰æ¨¡å‹"},{value:"anthropic",label:"Anthropic",description:"Claudeç³»åˆ—æ¨¡å‹"},{value:"google",label:"Google",description:"Geminiç³»åˆ—æ¨¡å‹"},{value:"custom",label:"è‡ªå®šä¹‰",description:"å…¼å®¹OpenAIæ ¼å¼çš„API"}],n=ne(()=>{if(!B.value.trim())return T.value;const t=B.value.toLowerCase().trim().split(/\s+/);return T.value.filter(a=>{const p=a.toLowerCase();return t.every(G=>p.includes(G))})}),O=t=>({openai:"OpenAI",anthropic:"Anthropic",google:"Google",custom:"è‡ªå®šä¹‰"})[t]||t,de=t=>({openai:"success",anthropic:"",google:"warning",custom:"info"})[t]||"info",fe=t=>({openai:"https://api.openai.com/v1/chat/completions",anthropic:"https://api.anthropic.com/v1/messages",google:"https://generativelanguage.googleapis.com/v1beta",custom:"https://api.example.com/v1"})[t]||"",Ae=t=>({openai:"OpenAI",anthropic:"Claude",google:"Gemini"})[t]||t,ge=t=>({openai:"success",anthropic:"",google:"warning"})[t]||"info",ie=async()=>{K.value=!0;try{L.value=await y.getProviders()}catch(t){_.error(t.message||"åŠ è½½æä¾›å•†å¤±è´¥")}finally{K.value=!1}},ye=t=>{V.value=!1,E.value={type:t,name:O(t),api_key:"",base_url:""},w.value=!0},Ie=t=>{b.value=t,E.value={type:t.type,name:t.name,api_key:t.api_key,base_url:t.base_url||""},w.value=!0},xe=async t=>{try{await y.toggleProvider(t.id)}catch(a){t.enabled=!t.enabled,_.error(a.message||"æ“ä½œå¤±è´¥")}},we=async t=>{try{await y.updateProvider(t.id,{api_key:t.api_key,base_url:t.base_url})}catch(a){_.error(a.message||"æ›´æ–°å¤±è´¥")}},se=async t=>{try{await $e.confirm(`ç¡®å®šè¦åˆ é™¤æä¾›å•† "${t.name}" å—ï¼Ÿè¿™å°†åŒæ—¶åˆ é™¤å…¶æ‰€æœ‰æ¨¡å‹é…ç½®ã€‚`,"ç¡®è®¤åˆ é™¤",{type:"warning"}),await y.deleteProvider(t.id),_.success("åˆ é™¤æˆåŠŸ"),await ie()}catch(a){a!=="cancel"&&_.error(a.message||"åˆ é™¤å¤±è´¥")}},me=async()=>{if(!E.value.name||!E.value.api_key){_.warning("è¯·å¡«å†™å¿…å¡«é¡¹");return}C.value=!0;try{b.value?(await y.updateProvider(b.value.id,E.value),_.success("æ›´æ–°æˆåŠŸ")):(await y.createProvider(E.value),_.success("æ·»åŠ æˆåŠŸ")),w.value=!1,b.value=null,await ie()}catch(t){_.error(t.message||"ä¿å­˜å¤±è´¥")}finally{C.value=!1}},Ue=t=>{h.value=t,P.value=null,S.value={model_id:"",name:"",api_type:t.type==="custom"?"openai":t.type,provider_id:t.id},T.value=[],B.value="",U.value="",x.value=!0},ee=(t,a)=>{h.value=t,P.value=a,S.value={model_id:a.model_id,name:a.name,api_type:a.api_type||t.type,provider_id:t.id},T.value=[],B.value="",U.value="",x.value=!0},re=async t=>{try{await y.toggleModel(t.id)}catch(a){t.enabled=!t.enabled,_.error(a.message||"æ“ä½œå¤±è´¥")}},Se=async(t,a)=>{try{await $e.confirm(`ç¡®å®šè¦åˆ é™¤æ¨¡å‹ "${a.name}" å—ï¼Ÿ`,"ç¡®è®¤åˆ é™¤",{type:"warning"}),await y.deleteModel(a.id),_.success("åˆ é™¤æˆåŠŸ"),await ie()}catch(p){p!=="cancel"&&_.error(p.message||"åˆ é™¤å¤±è´¥")}},Ee=async(t,a)=>{z.value=a.id;try{const{AIService:p}=await wl(async()=>{const{AIService:ae}=await Promise.resolve().then(()=>Ea);return{AIService:ae}},void 0),G=await p.testConnection({provider_id:t.id,model_id:a.model_id,api_type:a.api_type||t.type});G.success?_.success(`æ¨¡å‹ "${a.name}" è¿æ¥æµ‹è¯•æˆåŠŸ`):_.error(`æµ‹è¯•å¤±è´¥: ${G.message}`)}catch(p){_.error(`æµ‹è¯•å¤±è´¥: ${p.message}`)}finally{z.value=null}},ue=()=>{T.value=[],U.value=""},le=async()=>{if(h.value){q.value=!0,U.value="";try{const t=await y.getAvailableModels(h.value.id,S.value.api_type);T.value=t,t.length===0?U.value="æœªæ‰¾åˆ°å¯ç”¨æ¨¡å‹":_.success(`è·å–åˆ° ${t.length} ä¸ªæ¨¡å‹`)}catch(t){U.value=t.message||"è·å–æ¨¡å‹åˆ—è¡¨å¤±è´¥ï¼Œè¯·æ£€æŸ¥APIå¯†é’¥å’ŒURLé…ç½®"}finally{q.value=!1}}},Te=t=>{S.value.model_id=t,S.value.name=t},be=async()=>{if(!S.value.model_id||!S.value.name){_.warning("è¯·å¡«å†™æ¨¡å‹IDå’Œåç§°");return}C.value=!0;try{P.value?(await y.updateModel(P.value.id,S.value),_.success("æ›´æ–°æˆåŠŸ")):(await y.createModel(S.value),_.success("æ·»åŠ æˆåŠŸ")),he(),await ie()}catch(t){_.error(t.message||"ä¿å­˜å¤±è´¥")}finally{C.value=!1}},he=()=>{x.value=!1,P.value=null,h.value=null,T.value=[],B.value="",U.value=""},ke=async()=>{try{const t=await fetch("/api/game/mods",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(t.ok){J.value=await t.json();for(const a of J.value)a.game_id in M.gameModels||(M.gameModels[a.game_id]="")}}catch(t){console.error("åŠ è½½æ¸¸æˆåˆ—è¡¨å¤±è´¥:",t)}},ze=async()=>{try{const t=await fetch("/api/admin/game/model-config",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(t.ok){const a=await t.json();M.defaultModelId=String(a.default_model_id||"");const p={};if(a.game_models)for(const[G,ae]of Object.entries(a.game_models))p[G]=String(ae||"");M.gameModels=p,console.log("æ¸¸æˆé…ç½®åŠ è½½å®Œæˆ"),rl()}}catch(t){console.error("åŠ è½½æ¸¸æˆé…ç½®å¤±è´¥:",t)}},De=async()=>{R.value=!0;try{const t=await fetch("/api/admin/game/model-config",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({default_model_id:M.defaultModelId,game_models:M.gameModels})});if(t.ok)_.success("æ¸¸æˆAIé…ç½®å·²ä¿å­˜");else{const a=await t.json();_.error(a.error||"ä¿å­˜å¤±è´¥")}}catch(t){_.error(t.message||"ä¿å­˜å¤±è´¥")}finally{R.value=!1}},f=()=>{N.value="",He()},Ve=()=>{He()},Ce=t=>{i[t]="",Ke(t)},Pe=t=>{Ke(t)},He=()=>{if(N.value){const t=W.value.find(a=>a.model_id===N.value);M.defaultModelId=t?String(t.id):""}else M.defaultModelId=""},Ke=t=>{if(i[t]){const p=ce(t).find(G=>G.model_id===i[t]);M.gameModels[t]=p?String(p.id):""}else M.gameModels[t]=""},rl=()=>{if(M.defaultModelId){const t=H.value.find(a=>String(a.id)===M.defaultModelId);t&&(D.value=t.provider_id,N.value=t.model_id)}for(const[t,a]of Object.entries(M.gameModels))if(a){const p=H.value.find(G=>String(G.id)===a);p&&(d[t]=p.provider_id,i[t]=p.model_id)}};return Re(async()=>{await ie(),await ze(),await ke()}),(t,a)=>{const p=Ne,G=ol,ae=el,Q=Ze,Me=ll,Ge=Ye,ul=pl,te=al,Je=fl,oe=je,Le=sl,cl=bl;return u(),v("div",Wl,[s("div",Ql,[s("div",Xl,[a[15]||(a[15]=s("h3",null,"ğŸ® æ¸¸æˆAIé…ç½®",-1)),e(p,{type:"success",size:"small",onClick:De,loading:R.value},{default:l(()=>[...a[14]||(a[14]=[g(" ä¿å­˜é…ç½® ",-1)])]),_:1},8,["loading"])]),s("div",Yl,[e(Ge,{"label-width":"120px"},{default:l(()=>[e(Q,{label:"é»˜è®¤æ¨¡å‹"},{default:l(()=>[s("div",Zl,[e(ae,{modelValue:D.value,"onUpdate:modelValue":a[0]||(a[0]=o=>D.value=o),placeholder:"é€‰æ‹©æä¾›å•†",onChange:f,size:"small",style:{width:"150px"}},{default:l(()=>[(u(!0),v(X,null,Y(r.value,o=>(u(),Z(G,{key:o.id,label:o.name,value:o.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(ae,{modelValue:N.value,"onUpdate:modelValue":a[1]||(a[1]=o=>N.value=o),placeholder:"é€‰æ‹©æ¨¡å‹",disabled:!D.value,onChange:Ve,size:"small",style:{width:"200px"}},{default:l(()=>[(u(!0),v(X,null,Y(W.value,o=>(u(),Z(G,{key:o.id,label:o.name,value:o.model_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"])])]),_:1}),e(Q,{label:"æ¸¸æˆä¸“ç”¨æ¨¡å‹"},{default:l(()=>[s("div",ea,[(u(!0),v(X,null,Y(J.value,o=>(u(),v("div",{key:o.game_id,class:"game-model-item"},[s("div",la,[s("span",aa,A(o.name),1),e(Me,{size:"small",type:"info"},{default:l(()=>[g(A(o.game_id),1)]),_:2},1024)]),s("div",ta,[e(ae,{modelValue:d[o.game_id],"onUpdate:modelValue":j=>d[o.game_id]=j,placeholder:"é€‰æ‹©æä¾›å•†",onChange:()=>Ce(o.game_id),size:"small",style:{width:"150px"}},{default:l(()=>[(u(!0),v(X,null,Y(r.value,j=>(u(),Z(G,{key:j.id,label:j.name,value:j.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue","onChange"]),e(ae,{modelValue:i[o.game_id],"onUpdate:modelValue":j=>i[o.game_id]=j,placeholder:"é€‰æ‹©æ¨¡å‹",disabled:!d[o.game_id],onChange:()=>Pe(o.game_id),size:"small",style:{width:"200px"}},{default:l(()=>[(u(!0),v(X,null,Y(ce(o.game_id),j=>(u(),Z(G,{key:j.id,label:j.name,value:j.model_id},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","onChange"])])]))),128)),!J.value||J.value.length===0?(u(),v("div",sa," æš‚æ— å¯ç”¨æ¸¸æˆ ")):F("",!0)])]),_:1})]),_:1})])]),e(ul),s("div",oa,[s("div",na,[a[17]||(a[17]=s("h3",null,"AIæœåŠ¡æä¾›å•†",-1)),e(p,{type:"primary",onClick:a[2]||(a[2]=o=>V.value=!0)},{default:l(()=>[e(te,null,{default:l(()=>[e(I(_l))]),_:1}),a[16]||(a[16]=s("span",null,"æ·»åŠ æä¾›å•†",-1))]),_:1})]),a[24]||(a[24]=vl('<div class="info-box" data-v-c02f5c20><h4 class="info-title" data-v-c02f5c20>APIé…ç½®è¯´æ˜</h4><div class="info-content" data-v-c02f5c20><div data-v-c02f5c20><strong data-v-c02f5c20>OpenAIåŠå…¼å®¹æœåŠ¡ï¼š</strong>API URLå¡«å†™å®Œæ•´è·¯å¾„ï¼Œå¦‚ <code class="bg-blue-100 px-1 rounded" data-v-c02f5c20>https://api.openai.com/v1/chat/completions</code></div><div data-v-c02f5c20><strong data-v-c02f5c20>Anthropic Claudeï¼š</strong>API URLå¡«å†™ <code class="bg-blue-100 px-1 rounded" data-v-c02f5c20>https://api.anthropic.com/v1/messages</code></div><div data-v-c02f5c20><strong data-v-c02f5c20>Google Geminiï¼š</strong>API URLå¡«å†™ <code class="bg-blue-100 px-1 rounded" data-v-c02f5c20>https://generativelanguage.googleapis.com/v1beta</code></div><div data-v-c02f5c20><strong data-v-c02f5c20>è‡ªå®šä¹‰æä¾›å•†ï¼š</strong>å¤§å¤šæ•°ç¬¬ä¸‰æ–¹æœåŠ¡ä½¿ç”¨OpenAIå…¼å®¹æ ¼å¼</div></div></div>',1)),L.value.length===0?(u(),v("div",da,[e(te,{style:{"font-size":"60px",color:"#dcdfe6","margin-bottom":"16px"}},{default:l(()=>[e(I(tl))]),_:1}),a[18]||(a[18]=s("p",null,"è¿˜æ²¡æœ‰é…ç½®ä»»ä½•AIæä¾›å•†",-1)),a[19]||(a[19]=s("p",{style:{"font-size":"14px","margin-top":"8px",color:"#909399"}},"ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ æ‚¨çš„ç¬¬ä¸€ä¸ªAIæœåŠ¡",-1))])):(u(),v("div",ia,[(u(!0),v(X,null,Y(L.value,o=>{var j;return u(),v("div",{key:o.id,class:"provider-card"},[s("div",ra,[s("div",ua,[e(Je,{modelValue:o.enabled,"onUpdate:modelValue":k=>o.enabled=k,onChange:k=>xe(o)},null,8,["modelValue","onUpdate:modelValue","onChange"]),s("h4",ca,A(o.name),1),e(Me,{size:"small",type:de(o.type)},{default:l(()=>[g(A(O(o.type)),1)]),_:2},1032,["type"]),o.enabled&&o.api_key?(u(),Z(te,{key:0,style:{color:"#67c23a"},title:"å·²é…ç½®"},{default:l(()=>[e(I(gl))]),_:1})):F("",!0)]),s("div",ma,[e(p,{size:"small",onClick:k=>Ie(o),title:"ç¼–è¾‘æä¾›å•†"},{default:l(()=>[e(te,null,{default:l(()=>[e(I(We))]),_:1})]),_:1},8,["onClick"]),e(p,{size:"small",type:"danger",onClick:k=>se(o),title:"åˆ é™¤æä¾›å•†"},{default:l(()=>[e(te,null,{default:l(()=>[e(I(Qe))]),_:1})]),_:1},8,["onClick"])])]),s("div",pa,[s("div",va,[a[20]||(a[20]=s("label",{class:"field-label"},"APIå¯†é’¥",-1)),e(oe,{modelValue:o.api_key,"onUpdate:modelValue":k=>o.api_key=k,type:"password","show-password":"",placeholder:"è¾“å…¥APIå¯†é’¥",onInput:k=>we(o)},null,8,["modelValue","onUpdate:modelValue","onInput"])]),s("div",_a,[s("label",fa,[a[21]||(a[21]=g(" API URL ",-1)),o.type!=="custom"?(u(),v("span",ga,"(å¯é€‰)")):F("",!0)]),e(oe,{modelValue:o.base_url,"onUpdate:modelValue":k=>o.base_url=k,type:"url",placeholder:fe(o.type),onInput:k=>we(o)},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput"])])]),s("div",null,[s("div",ya,[s("label",wa,"å¯ç”¨æ¨¡å‹ ("+A(((j=o.models)==null?void 0:j.length)||0)+")",1),e(p,{size:"small",type:"primary",link:"",onClick:k=>Ue(o)},{default:l(()=>[...a[22]||(a[22]=[g(" æ·»åŠ æ¨¡å‹ ",-1)])]),_:1},8,["onClick"])]),s("div",ba,[!o.models||o.models.length===0?(u(),v("div",ha," æš‚æ— æ¨¡å‹ ")):F("",!0),(u(!0),v(X,null,Y(o.models,k=>(u(),v("div",{key:k.id,class:"model-item"},[s("div",ka,[e(Je,{modelValue:k.enabled,"onUpdate:modelValue":ve=>k.enabled=ve,onChange:ve=>re(k)},null,8,["modelValue","onUpdate:modelValue","onChange"]),s("span",Va,A(k.name),1),k.api_type?(u(),Z(Me,{key:0,size:"small",type:ge(k.api_type)},{default:l(()=>[g(A(Ae(k.api_type)),1)]),_:2},1032,["type"])):F("",!0)]),s("div",Ca,[e(p,{size:"small",onClick:ve=>Ee(o,k),loading:k.id===z.value},{default:l(()=>[...a[23]||(a[23]=[g(" æµ‹è¯• ",-1)])]),_:1},8,["onClick","loading"]),e(p,{size:"small",onClick:ve=>ee(o,k)},{default:l(()=>[e(te,null,{default:l(()=>[e(I(We))]),_:1})]),_:1},8,["onClick"]),e(p,{size:"small",type:"danger",onClick:ve=>Se(o,k)},{default:l(()=>[e(te,null,{default:l(()=>[e(I(Qe))]),_:1})]),_:1},8,["onClick"])])]))),128))])])])}),128))]))]),e(Le,{modelValue:V.value,"onUpdate:modelValue":a[3]||(a[3]=o=>V.value=o),title:"é€‰æ‹©æä¾›å•†ç±»å‹",width:"500px"},{default:l(()=>[s("div",Pa,[(u(),v(X,null,Y(c,o=>s("div",{key:o.value,class:"provider-type-card",onClick:j=>ye(o.value)},[s("h4",null,A(o.label),1),s("p",null,A(o.description),1)],8,Ma)),64))])]),_:1},8,["modelValue"]),e(Le,{modelValue:w.value,"onUpdate:modelValue":a[8]||(a[8]=o=>w.value=o),title:b.value?"ç¼–è¾‘æä¾›å•†":"æ·»åŠ æä¾›å•†",width:"500px"},{footer:l(()=>[e(p,{onClick:a[7]||(a[7]=o=>w.value=!1)},{default:l(()=>[...a[26]||(a[26]=[g("å–æ¶ˆ",-1)])]),_:1}),e(p,{type:"primary",loading:C.value,onClick:me},{default:l(()=>[g(A(b.value?"æ›´æ–°":"æ·»åŠ "),1)]),_:1},8,["loading"])]),default:l(()=>[e(Ge,{model:E.value,"label-width":"100px"},{default:l(()=>[e(Q,{label:"ç±»å‹"},{default:l(()=>[e(Me,null,{default:l(()=>[g(A(O(E.value.type)),1)]),_:1})]),_:1}),e(Q,{label:"åç§°",required:""},{default:l(()=>[e(oe,{modelValue:E.value.name,"onUpdate:modelValue":a[4]||(a[4]=o=>E.value.name=o),placeholder:"è¾“å…¥æä¾›å•†åç§°"},null,8,["modelValue"])]),_:1}),e(Q,{label:"APIå¯†é’¥",required:""},{default:l(()=>[e(oe,{modelValue:E.value.api_key,"onUpdate:modelValue":a[5]||(a[5]=o=>E.value.api_key=o),type:"password","show-password":"",placeholder:"è¾“å…¥APIå¯†é’¥"},null,8,["modelValue"])]),_:1}),e(Q,{label:"API URL"},{default:l(()=>[e(oe,{modelValue:E.value.base_url,"onUpdate:modelValue":a[6]||(a[6]=o=>E.value.base_url=o),type:"url",placeholder:fe(E.value.type)},null,8,["modelValue","placeholder"]),a[25]||(a[25]=s("div",{style:{"font-size":"12px",color:"#909399","margin-top":"4px"}},"ç•™ç©ºä½¿ç”¨é»˜è®¤åœ°å€",-1))]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(Le,{modelValue:x.value,"onUpdate:modelValue":a[13]||(a[13]=o=>x.value=o),title:P.value?"ç¼–è¾‘æ¨¡å‹":"æ·»åŠ æ¨¡å‹",width:"600px"},{footer:l(()=>[e(p,{onClick:he},{default:l(()=>[...a[28]||(a[28]=[g("å–æ¶ˆ",-1)])]),_:1}),e(p,{type:"primary",loading:C.value,onClick:be},{default:l(()=>[g(A(P.value?"æ›´æ–°":"æ·»åŠ "),1)]),_:1},8,["loading"])]),default:l(()=>[e(Ge,{model:S.value,"label-width":"100px"},{default:l(()=>[e(Q,{label:"APIç±»å‹"},{default:l(()=>[e(ae,{modelValue:S.value.api_type,"onUpdate:modelValue":a[9]||(a[9]=o=>S.value.api_type=o),placeholder:"é€‰æ‹©APIç±»å‹",onChange:ue},{default:l(()=>[e(G,{label:"OpenAI",value:"openai"}),e(G,{label:"Anthropic",value:"anthropic"}),e(G,{label:"Google",value:"google"})]),_:1},8,["modelValue"])]),_:1}),e(Q,{label:"æ¨¡å‹ID",required:""},{default:l(()=>[e(oe,{modelValue:S.value.model_id,"onUpdate:modelValue":a[10]||(a[10]=o=>S.value.model_id=o),placeholder:"å¦‚ï¼šgpt-4o"},null,8,["modelValue"])]),_:1}),e(Q,{label:"æ˜¾ç¤ºåç§°",required:""},{default:l(()=>[e(oe,{modelValue:S.value.name,"onUpdate:modelValue":a[11]||(a[11]=o=>S.value.name=o),placeholder:"å¦‚ï¼šGPT-4o"},null,8,["modelValue"])]),_:1}),e(Q,{label:""},{default:l(()=>[e(p,{onClick:le,loading:q.value,type:"primary"},{default:l(()=>[e(te,null,{default:l(()=>[e(I(nl))]),_:1}),a[27]||(a[27]=g(" è·å–æ¨¡å‹åˆ—è¡¨ ",-1))]),_:1},8,["loading"]),T.value.length>0?(u(),v("span",$a," å·²è·å– "+A(T.value.length)+" ä¸ªæ¨¡å‹ ",1)):F("",!0)]),_:1}),T.value.length>0?(u(),Z(Q,{key:0,label:"æœç´¢è¿‡æ»¤"},{default:l(()=>[e(oe,{modelValue:B.value,"onUpdate:modelValue":a[12]||(a[12]=o=>B.value=o),placeholder:"æœç´¢æ¨¡å‹ï¼ˆæ”¯æŒå¤šå…³é”®è¯ï¼‰",clearable:""},{prefix:l(()=>[e(te,null,{default:l(()=>[e(I(yl))]),_:1})]),_:1},8,["modelValue"])]),_:1})):F("",!0),T.value.length>0?(u(),Z(Q,{key:1,label:"å¯ç”¨æ¨¡å‹"},{default:l(()=>[s("div",Aa,[(u(!0),v(X,null,Y(n.value,o=>(u(),v("div",{key:o,class:dl(["model-select-item",{selected:S.value.model_id===o}]),onClick:j=>Te(o)},A(o),11,Ia))),128)),n.value.length===0?(u(),v("div",xa," æ²¡æœ‰åŒ¹é…çš„æ¨¡å‹ ")):F("",!0)])]),_:1})):F("",!0),U.value?(u(),Z(cl,{key:2,type:"error",title:U.value,closable:!1,style:{"margin-bottom":"16px"}},null,8,["title"])):F("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),Sa=Fe(Ua,[["__scopeId","data-v-c02f5c20"]]);class Oe{static async chat(y){return await $.post("/admin/ai/chat",y)}static async chatStream(y,L,K,V){var w;try{const x=localStorage.getItem("token"),b=await fetch("http://localhost:8182/api/admin/ai/chat",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({...y,stream:!0})});if(!b.ok){const B=await b.text();throw new Error(`HTTP ${b.status}: ${B}`)}const P=(w=b.body)==null?void 0:w.getReader();if(!P)throw new Error("æ— æ³•è·å–å“åº”æµ");const h=new TextDecoder;let q="",T=0;for(;;){const{done:B,value:U}=await P.read();if(B){V();break}const z=h.decode(U,{stream:!0});q+=z;const J=q.split(`
`);q=J.pop()||"";for(const M of J)if(M.trim()&&!M.startsWith("event:")&&M.startsWith("data:")){const R=M.slice(5).trim();if(!R)continue;try{const D=JSON.parse(R);if(D.content!==void 0&&D.content!==""&&(T++,L(D.content)),D.done){V();return}}catch(D){console.error("[AIService] è§£æSSEæ•°æ®å¤±è´¥:",D,R)}}}}catch(x){console.error("[AIService] chatStreamé”™è¯¯:",x),K(x)}}static async testConnection(y){return await $.post("/admin/ai/test",y)}}const Ea=Object.freeze(Object.defineProperty({__proto__:null,AIService:Oe},Symbol.toStringTag,{value:"Module"})),Ta={class:"playground"},za={class:"playground-container"},Da={class:"chat-panel"},Ga={class:"config-bar"},La={style:{display:"flex","align-items":"center",gap:"8px"}},Oa={class:"message-role"},Ba=["innerHTML"],Ra={key:0,class:"message message-assistant"},Na={class:"input-container"},ja={class:"input-actions"},Fa=Be({__name:"Playground",setup(_e){const y=qe(),L=m([]),K=m([]),V=m(null),w=m(""),x=m(!0),C=m([]),b=m(""),P=m(!1),h=m(!1),q=m(),T=ne(()=>L.value.filter(i=>i.enabled)),B=ne(()=>V.value?K.value.filter(i=>i.provider_id===V.value&&i.enabled):[]),U=i=>{try{const r=Jl(i,{breaks:!0,gfm:!0});return typeof r=="string"?r:String(r)}catch{return i.replace(/\n/g,"<br>")}},z=()=>{w.value="",M()},J=async()=>{try{L.value=await y.getProviders()}catch(i){_.error("åŠ è½½æä¾›å•†å¤±è´¥: "+i.message)}},M=async()=>{if(V.value)try{K.value=await y.getModels(V.value)}catch(i){_.error("åŠ è½½æ¨¡å‹å¤±è´¥: "+i.message)}},R=()=>{hl(()=>{q.value&&(q.value.scrollTop=q.value.scrollHeight)})},D=i=>{i.ctrlKey&&i.key==="Enter"&&(i.preventDefault(),N())},N=async()=>{if(!b.value.trim()||!w.value||!V.value)return;const i={role:"user",content:b.value.trim()};C.value.push(i),b.value="",R();try{if(x.value){h.value=!0,R();let r="",H=-1;await Oe.chatStream({provider_id:V.value,model_id:w.value,messages:C.value,stream:!0},W=>{H===-1&&(h.value=!1,C.value.push({role:"assistant",content:""}),H=C.value.length-1),r+=W,C.value[H].content=r,R()},W=>{console.error("[Playground] onError è¢«è°ƒç”¨:",W),h.value=!1,P.value=!1,_.error("å¯¹è¯å¤±è´¥: "+W.message)},()=>{h.value=!1,P.value=!1,R()})}else{P.value=!0;const r=await Oe.chat({provider_id:V.value,model_id:w.value,messages:C.value,stream:!1});C.value.push({role:"assistant",content:r.content}),P.value=!1,R()}}catch(r){P.value=!1,h.value=!1,_.error("å‘é€æ¶ˆæ¯å¤±è´¥: "+r.message)}},d=()=>{C.value=[]};return Re(()=>{J()}),(i,r)=>{const H=ol,W=el,ce=il,E=Ne,S=je;return u(),v("div",Ta,[r[10]||(r[10]=s("div",{class:"playground-header"},[s("h2",null,"AI æ“ç»ƒåœº"),s("p",{class:"header-desc"},"é€‰æ‹©æä¾›å•†å’Œæ¨¡å‹è¿›è¡Œå¯¹è¯æµ‹è¯•")],-1)),s("div",za,[s("div",Da,[s("div",Ga,[e(W,{modelValue:V.value,"onUpdate:modelValue":r[0]||(r[0]=c=>V.value=c),placeholder:"é€‰æ‹©æä¾›å•†",onChange:z,style:{width:"200px"},size:"small"},{default:l(()=>[(u(!0),v(X,null,Y(T.value,c=>(u(),Z(H,{key:c.id,label:c.name,value:c.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(W,{modelValue:w.value,"onUpdate:modelValue":r[1]||(r[1]=c=>w.value=c),placeholder:"é€‰æ‹©æ¨¡å‹",disabled:!V.value,style:{width:"250px"},size:"small"},{default:l(()=>[(u(!0),v(X,null,Y(B.value,c=>(u(),Z(H,{key:c.id,label:c.name,value:c.model_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),s("div",La,[r[4]||(r[4]=s("span",{style:{"font-size":"14px",color:"#666"}},"æµå¼è¾“å‡º",-1)),e(ce,{modelValue:x.value,"onUpdate:modelValue":r[2]||(r[2]=c=>x.value=c),size:"small"},null,8,["modelValue"])]),r[6]||(r[6]=s("div",{style:{flex:"1"}},null,-1)),e(E,{size:"small",onClick:d,disabled:C.value.length===0},{default:l(()=>[...r[5]||(r[5]=[g(" æ¸…ç©ºå¯¹è¯ ",-1)])]),_:1},8,["disabled"])]),s("div",{class:"messages-container",ref_key:"messagesContainer",ref:q},[(u(!0),v(X,null,Y(C.value,(c,n)=>(u(),v("div",{key:n,class:dl(["message",`message-${c.role}`])},[s("div",Oa,A(c.role==="user"?"ç”¨æˆ·":"AI"),1),s("div",{class:"message-content",innerHTML:U(c.content)},null,8,Ba)],2))),128)),h.value?(u(),v("div",Ra,[...r[7]||(r[7]=[s("div",{class:"message-role"},"AI",-1),s("div",{class:"message-content typing-indicator"},[s("span"),s("span"),s("span")],-1)])])):F("",!0)],512),s("div",Na,[e(S,{modelValue:b.value,"onUpdate:modelValue":r[3]||(r[3]=c=>b.value=c),type:"textarea",rows:3,placeholder:"è¾“å…¥æ¶ˆæ¯... (Ctrl+Enter å‘é€)",onKeydown:D,disabled:P.value||!w.value},null,8,["modelValue","disabled"]),s("div",ja,[r[9]||(r[9]=s("span",{class:"input-hint"},"Ctrl + Enter å‘é€",-1)),e(E,{type:"primary",onClick:N,loading:P.value,disabled:!b.value.trim()||!w.value},{default:l(()=>[...r[8]||(r[8]=[g(" å‘é€ ",-1)])]),_:1},8,["loading","disabled"])])])])])])}}}),qa=Fe(Fa,[["__scopeId","data-v-362b6de1"]]),Ha={class:"admin-container"},Ka={class:"header-content"},Ja={class:"breadcrumb"},Wa={class:"user-info"},Qa={class:"el-dropdown-link"},Xa={key:0,class:"overview-content"},Ya={class:"stats-item"},Za={class:"stats-number"},et={class:"stats-item"},lt={class:"stats-number"},at={class:"stats-item"},tt={class:"stats-number"},st={key:1},ot={class:"card-header"},nt={key:2},dt={key:3},it={key:4},rt={class:"dialog-footer"},ut=Be({__name:"AdminView",setup(_e){const y=Vl(),L=kl(),K=qe(),V=m(!1),w=m([]),x=m(!1),C=m(!1),b=m(null),P=m(),h=m("overview"),q=ne(()=>w.value.length),T=ne(()=>w.value.filter(c=>c.is_admin).length),B=m(0),U=pe({siteName:"AI Game Engine",siteDescription:"ä¸€ä¸ªåŸºäºAIçš„æ–‡å­—å†’é™©æ¸¸æˆå¼•æ“",allowRegister:!0}),z=pe({newPassword:"",confirmPassword:""}),M=pe({newPassword:[{required:!0,message:"è¯·è¾“å…¥æ–°å¯†ç ",trigger:"blur"},{min:6,message:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº 6 ä½",trigger:"blur"}],confirmPassword:[{required:!0,message:"è¯·ç¡®è®¤å¯†ç ",trigger:"blur"},{validator:(c,n,O)=>{n!==z.newPassword?O(new Error("ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´")):O()},trigger:"blur"}]});Re(()=>{if(!L.isAdmin()){y.push("/chat");return}N()});const R=c=>{h.value=c,c==="users"&&N()},D=()=>({overview:"æ¦‚è§ˆ",users:"ç”¨æˆ·ç®¡ç†",providers:"æä¾›å•†ç®¡ç†",playground:"æ“ç»ƒåœº",system:"ç³»ç»Ÿè®¾ç½®"})[h.value]||"æ¦‚è§ˆ",N=async()=>{V.value=!0;try{w.value=await K.getUsers()}catch(c){console.error("è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥:",c)}finally{V.value=!1}},d=()=>{N()},i=c=>{b.value=c,z.newPassword="",z.confirmPassword="",x.value=!0},r=async()=>{if(!(!P.value||!b.value))try{if(!await P.value.validate())return;C.value=!0,await K.updateUserPassword(b.value.id,z.newPassword),_.success("å¯†ç ä¿®æ”¹æˆåŠŸ"),x.value=!1}catch(c){console.error("å¯†ç ä¿®æ”¹å¤±è´¥:",c)}finally{C.value=!1}},H=async c=>{try{await $e.confirm(`ç¡®å®šè¦${c.is_admin?"å–æ¶ˆ":"è®¾ç½®"}ç”¨æˆ· "${c.username}" çš„ç®¡ç†å‘˜æƒé™å—ï¼Ÿ`,"ç¡®è®¤æ“ä½œ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),await K.toggleUserAdmin(c.id),_.success("æƒé™ä¿®æ”¹æˆåŠŸ"),await N()}catch(n){n!=="cancel"&&console.error("æƒé™ä¿®æ”¹å¤±è´¥:",n)}},W=async c=>{try{await $e.confirm(`ç¡®å®šè¦åˆ é™¤ç”¨æˆ· "${c.username}" å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼`,"ç¡®è®¤åˆ é™¤",{confirmButtonText:"åˆ é™¤",cancelButtonText:"å–æ¶ˆ",type:"warning"}),await K.deleteUser(c.id),_.success("ç”¨æˆ·åˆ é™¤æˆåŠŸ"),await N()}catch(n){n!=="cancel"&&console.error("ç”¨æˆ·åˆ é™¤å¤±è´¥:",n)}},ce=()=>{L.logout()},E=()=>{y.push("/chat")},S=()=>{_.success("ç³»ç»Ÿè®¾ç½®å·²ä¿å­˜")};return(c,n)=>{const O=al,de=$l,fe=Ml,Ae=Pl,ge=El,ie=Sl,ye=Ll,Ie=Gl,xe=Tl,we=Ul,se=jl,me=Nl,Ue=Rl,ee=Ne,re=Hl,Se=ll,Ee=Kl,ue=je,le=Ze,Te=il,be=Ye,he=Bl,ke=Cl,ze=sl,De=ql;return u(),v("div",Ha,[e(ke,{style:{height:"100vh"}},{default:l(()=>[e(Ae,{width:"250px",class:"admin-sidebar"},{default:l(()=>[n[12]||(n[12]=s("div",{class:"logo"},[s("h3",null,"ç®¡ç†åå°")],-1)),e(fe,{"default-active":h.value,class:"admin-menu","background-color":"#001529","text-color":"#ffffff","active-text-color":"#1890ff",onSelect:R},{default:l(()=>[e(de,{index:"overview"},{default:l(()=>[e(O,null,{default:l(()=>[e(I(Al))]),_:1}),n[7]||(n[7]=s("span",null,"æ¦‚è§ˆ",-1))]),_:1}),e(de,{index:"users"},{default:l(()=>[e(O,null,{default:l(()=>[e(I(Il))]),_:1}),n[8]||(n[8]=s("span",null,"ç”¨æˆ·ç®¡ç†",-1))]),_:1}),e(de,{index:"providers"},{default:l(()=>[e(O,null,{default:l(()=>[e(I(xl))]),_:1}),n[9]||(n[9]=s("span",null,"æä¾›å•†ç®¡ç†",-1))]),_:1}),e(de,{index:"playground"},{default:l(()=>[e(O,null,{default:l(()=>[e(I(Xe))]),_:1}),n[10]||(n[10]=s("span",null,"æ“ç»ƒåœº",-1))]),_:1}),e(de,{index:"system"},{default:l(()=>[e(O,null,{default:l(()=>[e(I(tl))]),_:1}),n[11]||(n[11]=s("span",null,"ç³»ç»Ÿè®¾ç½®",-1))]),_:1})]),_:1},8,["default-active"])]),_:1}),e(ke,null,{default:l(()=>[e(we,{class:"admin-header"},{default:l(()=>[s("div",Ka,[s("div",Ja,[e(ie,{separator:"/"},{default:l(()=>[e(ge,null,{default:l(()=>[...n[13]||(n[13]=[g("ç®¡ç†åå°",-1)])]),_:1}),e(ge,null,{default:l(()=>[g(A(D()),1)]),_:1})]),_:1})]),s("div",Wa,[e(xe,null,{dropdown:l(()=>[e(Ie,null,{default:l(()=>[e(ye,{onClick:E},{default:l(()=>[e(O,null,{default:l(()=>[e(I(Xe))]),_:1}),n[14]||(n[14]=g(" è¿”å›ä¸»é¡µ ",-1))]),_:1}),e(ye,{divided:"",onClick:ce},{default:l(()=>[e(O,null,{default:l(()=>[e(I(Ol))]),_:1}),n[15]||(n[15]=g(" é€€å‡ºç™»å½• ",-1))]),_:1})]),_:1})]),default:l(()=>{var f;return[s("span",Qa,[e(O,null,{default:l(()=>[e(I(zl))]),_:1}),g(" "+A((f=I(L).user)==null?void 0:f.username)+" ",1),e(O,{class:"el-icon--right"},{default:l(()=>[e(I(Dl))]),_:1})])]}),_:1})])])]),_:1}),e(he,{class:"admin-main"},{default:l(()=>[h.value==="overview"?(u(),v("div",Xa,[e(Ue,{gutter:20},{default:l(()=>[e(me,{span:6},{default:l(()=>[e(se,{class:"stats-card"},{default:l(()=>[s("div",Ya,[s("div",Za,A(q.value),1),n[16]||(n[16]=s("div",{class:"stats-label"},"æ€»ç”¨æˆ·æ•°",-1))])]),_:1})]),_:1}),e(me,{span:6},{default:l(()=>[e(se,{class:"stats-card"},{default:l(()=>[s("div",et,[s("div",lt,A(T.value),1),n[17]||(n[17]=s("div",{class:"stats-label"},"ç®¡ç†å‘˜æ•°",-1))])]),_:1})]),_:1}),e(me,{span:6},{default:l(()=>[e(se,{class:"stats-card"},{default:l(()=>[s("div",at,[s("div",tt,A(B.value),1),n[18]||(n[18]=s("div",{class:"stats-label"},"å¯¹è¯æ€»æ•°",-1))])]),_:1})]),_:1}),e(me,{span:6},{default:l(()=>[e(se,{class:"stats-card"},{default:l(()=>[...n[19]||(n[19]=[s("div",{class:"stats-item"},[s("div",{class:"stats-number"},"Online"),s("div",{class:"stats-label"},"ç³»ç»ŸçŠ¶æ€")],-1)])]),_:1})]),_:1})]),_:1})])):F("",!0),h.value==="users"?(u(),v("div",st,[e(se,null,{header:l(()=>[s("div",ot,[n[21]||(n[21]=s("span",null,"ç”¨æˆ·ç®¡ç†",-1)),e(ee,{type:"primary",onClick:d},{default:l(()=>[e(O,null,{default:l(()=>[e(I(nl))]),_:1}),n[20]||(n[20]=g(" åˆ·æ–° ",-1))]),_:1})])]),default:l(()=>[Fl((u(),Z(Ee,{data:w.value,style:{width:"100%"}},{default:l(()=>[e(re,{prop:"id",label:"ID",width:"80"}),e(re,{prop:"username",label:"ç”¨æˆ·å"}),e(re,{prop:"email",label:"é‚®ç®±"}),e(re,{prop:"is_admin",label:"ç®¡ç†å‘˜",width:"100"},{default:l(f=>[e(Se,{type:f.row.is_admin?"success":"info"},{default:l(()=>[g(A(f.row.is_admin?"æ˜¯":"å¦"),1)]),_:2},1032,["type"])]),_:1}),e(re,{label:"æ“ä½œ",width:"300"},{default:l(f=>{var Ve,Ce;return[e(ee,{size:"small",onClick:Pe=>i(f.row)},{default:l(()=>[...n[22]||(n[22]=[g(" ä¿®æ”¹å¯†ç  ",-1)])]),_:1},8,["onClick"]),e(ee,{size:"small",type:"warning",onClick:Pe=>H(f.row),disabled:f.row.id===((Ve=I(L).user)==null?void 0:Ve.id)},{default:l(()=>[g(A(f.row.is_admin?"å–æ¶ˆç®¡ç†å‘˜":"è®¾ä¸ºç®¡ç†å‘˜"),1)]),_:2},1032,["onClick","disabled"]),e(ee,{size:"small",type:"danger",onClick:Pe=>W(f.row),disabled:f.row.id===((Ce=I(L).user)==null?void 0:Ce.id)},{default:l(()=>[...n[23]||(n[23]=[g(" åˆ é™¤ ",-1)])]),_:1},8,["onClick","disabled"])]}),_:1})]),_:1},8,["data"])),[[De,V.value]])]),_:1})])):F("",!0),h.value==="providers"?(u(),v("div",nt,[e(Sa)])):F("",!0),h.value==="playground"?(u(),v("div",dt,[e(qa)])):F("",!0),h.value==="system"?(u(),v("div",it,[e(se,null,{header:l(()=>[...n[24]||(n[24]=[s("span",null,"ç³»ç»Ÿè®¾ç½®",-1)])]),default:l(()=>[e(be,{"label-width":"120px"},{default:l(()=>[e(le,{label:"ç³»ç»Ÿåç§°"},{default:l(()=>[e(ue,{modelValue:U.siteName,"onUpdate:modelValue":n[0]||(n[0]=f=>U.siteName=f),placeholder:"AI Chat System"},null,8,["modelValue"])]),_:1}),e(le,{label:"ç³»ç»Ÿæè¿°"},{default:l(()=>[e(ue,{type:"textarea",modelValue:U.siteDescription,"onUpdate:modelValue":n[1]||(n[1]=f=>U.siteDescription=f),placeholder:"ä¸€ä¸ªåŸºäºAIçš„æ™ºèƒ½å¯¹è¯ç³»ç»Ÿ",rows:3},null,8,["modelValue"])]),_:1}),e(le,{label:"å…è®¸æ³¨å†Œ"},{default:l(()=>[e(Te,{modelValue:U.allowRegister,"onUpdate:modelValue":n[2]||(n[2]=f=>U.allowRegister=f)},null,8,["modelValue"])]),_:1}),e(le,null,{default:l(()=>[e(ee,{type:"primary",onClick:S},{default:l(()=>[...n[25]||(n[25]=[g("ä¿å­˜è®¾ç½®",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])):F("",!0)]),_:1})]),_:1})]),_:1}),e(ze,{modelValue:x.value,"onUpdate:modelValue":n[6]||(n[6]=f=>x.value=f),title:"ä¿®æ”¹ç”¨æˆ·å¯†ç ",width:"400px"},{footer:l(()=>[s("div",rt,[e(ee,{onClick:n[5]||(n[5]=f=>x.value=!1)},{default:l(()=>[...n[26]||(n[26]=[g("å–æ¶ˆ",-1)])]),_:1}),e(ee,{type:"primary",onClick:r,loading:C.value},{default:l(()=>[...n[27]||(n[27]=[g(" ç¡®è®¤ ",-1)])]),_:1},8,["loading"])])]),default:l(()=>[e(be,{model:z,rules:M,ref_key:"passwordFormRef",ref:P},{default:l(()=>[e(le,{label:"ç”¨æˆ·å"},{default:l(()=>{var f;return[e(ue,{value:(f=b.value)==null?void 0:f.username,disabled:""},null,8,["value"])]}),_:1}),e(le,{label:"æ–°å¯†ç ",prop:"newPassword"},{default:l(()=>[e(ue,{modelValue:z.newPassword,"onUpdate:modelValue":n[3]||(n[3]=f=>z.newPassword=f),type:"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1}),e(le,{label:"ç¡®è®¤å¯†ç ",prop:"confirmPassword"},{default:l(()=>[e(ue,{modelValue:z.confirmPassword,"onUpdate:modelValue":n[4]||(n[4]=f=>z.confirmPassword=f),type:"password",placeholder:"è¯·ç¡®è®¤æ–°å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),_t=Fe(ut,[["__scopeId","data-v-efdc43a2"]]);export{_t as default};
