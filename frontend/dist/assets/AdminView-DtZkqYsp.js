/* empty css                 */import{C as Ye,D as A,d as Se,r as m,p as ue,q as Ue,c as _,m as s,b as e,k as Ee,w as l,l as f,f as Re,i as Ne,G as Ge,H as Fe,F as Q,v as X,g as Y,h as R,t as I,I as je,J as Ze,K as el,L as Je,M,N as ll,O as qe,P as al,Q as tl,R as Oe,S as Be,j as Te,T as He,U as Ke,V as sl,A as We,n as v,W as we,_ as ol,X as nl,o as c,Y as Qe,B as dl,u as rl,a as Me,e as il,Z as ul,$ as cl,a0 as ml,a1 as pl,a2 as vl,a3 as _l,a4 as gl,a5 as Le,a6 as fl,a7 as yl,a8 as wl,a9 as bl,aa as hl,ab as kl,ac as Pl,ad as Vl,ae as $l,af as Cl,ag as Al,ah as Il,E as Ml,x as xl,ai as Sl,aj as Ul,ak as El}from"./index-Bh8llI87.js";import{_ as ze}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{k as Tl}from"./marked.esm-z4go5P_g.js";const De=Ye("admin",()=>({getUsers:async()=>(await A.get("/admin/users")).users,getUser:async d=>await A.get(`/admin/users/${d}`),updateUserPassword:async(d,u)=>{await A.put(`/admin/users/${d}/password`,{new_password:u})},deleteUser:async d=>{await A.delete(`/admin/users/${d}`)},toggleUserAdmin:async d=>{await A.put(`/admin/users/${d}/toggle-admin`)},getProviders:async()=>(await A.get("/admin/providers")).providers,getProvider:async d=>await A.get(`/admin/providers/${d}`),createProvider:async d=>await A.post("/admin/providers",d),updateProvider:async(d,u)=>await A.put(`/admin/providers/${d}`,u),deleteProvider:async d=>{await A.delete(`/admin/providers/${d}`)},toggleProvider:async d=>await A.put(`/admin/providers/${d}/toggle`),getAvailableModels:async(d,u)=>{const r=u?`/admin/providers/${d}/models/available?api_type=${u}`:`/admin/providers/${d}/models/available`;return(await A.get(r)).models},testConnection:async(d,u)=>{const r=u?`/admin/providers/${d}/test?model_id=${u}`:`/admin/providers/${d}/test`;return await A.get(r)},getModels:async d=>{const u=d?`/admin/models?provider_id=${d}`:"/admin/models";return(await A.get(u)).models},getModel:async d=>await A.get(`/admin/models/${d}`),createModel:async d=>await A.post("/admin/models",d),updateModel:async(d,u)=>await A.put(`/admin/models/${d}`,u),deleteModel:async d=>{await A.delete(`/admin/models/${d}`)},toggleModel:async d=>await A.put(`/admin/models/${d}/toggle`),testModel:async d=>await A.post(`/admin/models/${d}/test`),updateModelCapabilities:async(d,u)=>await A.put(`/admin/models/${d}/capabilities`,{capabilities:u})})),zl={class:"provider-management"},Dl={class:"game-ai-config",style:{"margin-bottom":"24px"}},Ol={class:"config-header"},Bl={class:"config-content"},Ll={class:"game-model-list"},Rl={class:"game-info"},Nl={class:"game-name"},Gl={key:0,class:"no-games"},Fl={style:{"margin-bottom":"24px"}},jl={class:"page-header"},Jl={key:0,class:"empty-state"},ql={key:1,class:"providers-list"},Hl={class:"provider-header"},Kl={class:"provider-title"},Wl={style:{margin:"0 8px","font-size":"16px","font-weight":"500"}},Ql={class:"provider-actions"},Xl={class:"provider-fields"},Yl={class:"field-item"},Zl={class:"field-item"},ea={class:"field-label"},la={key:0,style:{"font-size":"12px",color:"#909399"}},aa={class:"models-header"},ta={class:"field-label"},sa={class:"models-list"},oa={key:0,class:"models-empty"},na={class:"model-info"},da={class:"model-name"},ra={class:"model-actions"},ia={class:"provider-types"},ua=["onClick"],ca={key:0,style:{"margin-left":"12px",color:"#67c23a"}},ma={class:"model-select-list"},pa=["onClick"],va={key:0,class:"model-select-empty"},_a=Se({__name:"ProviderManagement",setup(ve){const b=De(),O=m([]),J=m(!1),$=m(!1),k=m(!1),x=m(!1),y=m(!1),w=m(null),C=m(null),P=m(null),N=m(!1),U=m([]),B=m(""),S=m(""),T=m(null),q=m([]),E=m({defaultModelId:"",gameModels:{}}),z=m(!1),L=ue(()=>{const t=[];for(const a of O.value)if(a.models)for(const g of a.models)g.enabled&&a.enabled&&t.push({...g,provider:a});return t}),h=m({type:"openai",name:"",api_key:"",base_url:""}),d=m({model_id:"",name:"",api_type:"openai",provider_id:0}),u=[{value:"openai",label:"OpenAI",description:"GPT-4, GPT-3.5ç­‰æ¨¡å‹"},{value:"anthropic",label:"Anthropic",description:"Claudeç³»åˆ—æ¨¡å‹"},{value:"google",label:"Google",description:"Geminiç³»åˆ—æ¨¡å‹"},{value:"custom",label:"è‡ªå®šä¹‰",description:"å…¼å®¹OpenAIæ ¼å¼çš„API"}],r=ue(()=>{if(!B.value.trim())return U.value;const t=B.value.toLowerCase().trim().split(/\s+/);return U.value.filter(a=>{const g=a.toLowerCase();return t.every(F=>g.includes(F))})}),D=t=>({openai:"OpenAI",anthropic:"Anthropic",google:"Google",custom:"è‡ªå®šä¹‰"})[t]||t,H=t=>({openai:"success",anthropic:"",google:"warning",custom:"info"})[t]||"info",ne=t=>({openai:"https://api.openai.com/v1/chat/completions",anthropic:"https://api.anthropic.com/v1/messages",google:"https://generativelanguage.googleapis.com/v1beta",custom:"https://api.example.com/v1"})[t]||"",de=t=>({openai:"OpenAI",anthropic:"Claude",google:"Gemini"})[t]||t,ce=t=>({openai:"success",anthropic:"",google:"warning"})[t]||"info",i=async()=>{J.value=!0;try{O.value=await b.getProviders()}catch(t){v.error(t.message||"åŠ è½½æä¾›å•†å¤±è´¥")}finally{J.value=!1}},n=t=>{$.value=!1,h.value={type:t,name:D(t),api_key:"",base_url:""},k.value=!0},G=t=>{w.value=t,h.value={type:t.type,name:t.name,api_key:t.api_key,base_url:t.base_url||""},k.value=!0},se=async t=>{try{await b.toggleProvider(t.id)}catch(a){t.enabled=!t.enabled,v.error(a.message||"æ“ä½œå¤±è´¥")}},_e=async t=>{try{await b.updateProvider(t.id,{api_key:t.api_key,base_url:t.base_url})}catch(a){v.error(a.message||"æ›´æ–°å¤±è´¥")}},be=async t=>{try{await we.confirm(`ç¡®å®šè¦åˆ é™¤æä¾›å•† "${t.name}" å—ï¼Ÿè¿™å°†åŒæ—¶åˆ é™¤å…¶æ‰€æœ‰æ¨¡å‹é…ç½®ã€‚`,"ç¡®è®¤åˆ é™¤",{type:"warning"}),await b.deleteProvider(t.id),v.success("åˆ é™¤æˆåŠŸ"),await i()}catch(a){a!=="cancel"&&v.error(a.message||"åˆ é™¤å¤±è´¥")}},ge=async()=>{if(!h.value.name||!h.value.api_key){v.warning("è¯·å¡«å†™å¿…å¡«é¡¹");return}y.value=!0;try{w.value?(await b.updateProvider(w.value.id,h.value),v.success("æ›´æ–°æˆåŠŸ")):(await b.createProvider(h.value),v.success("æ·»åŠ æˆåŠŸ")),k.value=!1,w.value=null,await i()}catch(t){v.error(t.message||"ä¿å­˜å¤±è´¥")}finally{y.value=!1}},he=t=>{P.value=t,C.value=null,d.value={model_id:"",name:"",api_type:t.type==="custom"?"openai":t.type,provider_id:t.id},U.value=[],B.value="",S.value="",x.value=!0},fe=(t,a)=>{P.value=t,C.value=a,d.value={model_id:a.model_id,name:a.name,api_type:a.api_type||t.type,provider_id:t.id},U.value=[],B.value="",S.value="",x.value=!0},ke=async t=>{try{await b.toggleModel(t.id)}catch(a){t.enabled=!t.enabled,v.error(a.message||"æ“ä½œå¤±è´¥")}},Pe=async(t,a)=>{try{await we.confirm(`ç¡®å®šè¦åˆ é™¤æ¨¡å‹ "${a.name}" å—ï¼Ÿ`,"ç¡®è®¤åˆ é™¤",{type:"warning"}),await b.deleteModel(a.id),v.success("åˆ é™¤æˆåŠŸ"),await i()}catch(g){g!=="cancel"&&v.error(g.message||"åˆ é™¤å¤±è´¥")}},Ve=async(t,a)=>{T.value=a.id;try{const{AIService:g}=await ol(async()=>{const{AIService:ae}=await Promise.resolve().then(()=>fa);return{AIService:ae}},void 0),F=await g.testConnection({provider_id:t.id,model_id:a.model_id,api_type:a.api_type||t.type});F.success?v.success(`æ¨¡å‹ "${a.name}" è¿æ¥æµ‹è¯•æˆåŠŸ`):v.error(`æµ‹è¯•å¤±è´¥: ${F.message}`)}catch(g){v.error(`æµ‹è¯•å¤±è´¥: ${g.message}`)}finally{T.value=null}},ee=()=>{U.value=[],S.value=""},re=async()=>{if(P.value){N.value=!0,S.value="";try{const t=await b.getAvailableModels(P.value.id,d.value.api_type);U.value=t,t.length===0?S.value="æœªæ‰¾åˆ°å¯ç”¨æ¨¡å‹":v.success(`è·å–åˆ° ${t.length} ä¸ªæ¨¡å‹`)}catch(t){S.value=t.message||"è·å–æ¨¡å‹åˆ—è¡¨å¤±è´¥ï¼Œè¯·æ£€æŸ¥APIå¯†é’¥å’ŒURLé…ç½®"}finally{N.value=!1}}},$e=t=>{d.value.model_id=t,d.value.name=t},Z=async()=>{if(!d.value.model_id||!d.value.name){v.warning("è¯·å¡«å†™æ¨¡å‹IDå’Œåç§°");return}y.value=!0;try{C.value?(await b.updateModel(C.value.id,d.value),v.success("æ›´æ–°æˆåŠŸ")):(await b.createModel(d.value),v.success("æ·»åŠ æˆåŠŸ")),le(),await i()}catch(t){v.error(t.message||"ä¿å­˜å¤±è´¥")}finally{y.value=!1}},le=()=>{x.value=!1,C.value=null,P.value=null,U.value=[],B.value="",S.value=""},Ce=async()=>{try{const t=await fetch("/api/game/mods",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});t.ok&&(q.value=await t.json())}catch(t){console.error("åŠ è½½æ¸¸æˆåˆ—è¡¨å¤±è´¥:",t)}},Ae=async()=>{try{const t=await fetch("/api/admin/game/model-config",{headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}});if(t.ok){const a=await t.json();E.value.defaultModelId=a.default_model_id||"",E.value.gameModels=a.game_models||{}}}catch(t){console.error("åŠ è½½æ¸¸æˆé…ç½®å¤±è´¥:",t)}},oe=async()=>{z.value=!0;try{const t=await fetch("/api/admin/game/model-config",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({default_model_id:E.value.defaultModelId,game_models:E.value.gameModels})});if(t.ok)v.success("æ¸¸æˆAIé…ç½®å·²ä¿å­˜");else{const a=await t.json();v.error(a.error||"ä¿å­˜å¤±è´¥")}}catch(t){v.error(t.message||"ä¿å­˜å¤±è´¥")}finally{z.value=!1}};return Ue(()=>{i(),Ce(),Ae()}),(t,a)=>{const g=Ee,F=Fe,ae=Ge,j=Ne,ie=je,p=Re,ye=Ze,K=Je,me=al,te=Te,Ie=He,Xe=nl;return c(),_("div",zl,[s("div",Dl,[s("div",Ol,[a[14]||(a[14]=s("h3",null,"ğŸ® æ¸¸æˆAIé…ç½®",-1)),e(g,{type:"success",size:"small",onClick:oe,loading:z.value},{default:l(()=>[...a[13]||(a[13]=[f(" ä¿å­˜é…ç½® ",-1)])]),_:1},8,["loading"])]),s("div",Bl,[e(p,{"label-width":"120px"},{default:l(()=>[e(j,{label:"é»˜è®¤æ¨¡å‹"},{default:l(()=>[e(ae,{modelValue:E.value.defaultModelId,"onUpdate:modelValue":a[0]||(a[0]=o=>E.value.defaultModelId=o),placeholder:"é€‰æ‹©é»˜è®¤AIæ¨¡å‹",style:{width:"100%"}},{default:l(()=>[e(F,{label:"è‡ªåŠ¨é€‰æ‹©ç¬¬ä¸€ä¸ªå¯ç”¨çš„æ¨¡å‹",value:""}),(c(!0),_(Q,null,X(L.value,o=>(c(),Y(F,{key:o.id,label:`${o.provider.name} / ${o.name}`,value:String(o.id)},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),a[15]||(a[15]=s("div",{style:{"font-size":"12px",color:"#909399","margin-top":"4px"}},"æœªæŒ‡å®šæ¸¸æˆæ¨¡å‹æ—¶ä½¿ç”¨æ­¤æ¨¡å‹",-1))]),_:1}),e(j,{label:"æ¸¸æˆä¸“ç”¨æ¨¡å‹"},{default:l(()=>[s("div",Ll,[(c(!0),_(Q,null,X(q.value,o=>(c(),_("div",{key:o.game_id,class:"game-model-item"},[s("div",Rl,[s("span",Nl,I(o.name),1),e(ie,{size:"small",type:"info"},{default:l(()=>[f(I(o.game_id),1)]),_:2},1024)]),e(ae,{modelValue:E.value.gameModels[o.game_id],"onUpdate:modelValue":W=>E.value.gameModels[o.game_id]=W,placeholder:"ä½¿ç”¨é»˜è®¤æ¨¡å‹",clearable:"",style:{flex:"1","margin-left":"12px"}},{default:l(()=>[e(F,{label:"ä½¿ç”¨é»˜è®¤æ¨¡å‹",value:""}),(c(!0),_(Q,null,X(L.value,W=>(c(),Y(F,{key:W.id,label:`${W.provider.name} / ${W.name}`,value:String(W.id)},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onUpdate:modelValue"])]))),128)),!q.value||q.value.length===0?(c(),_("div",Gl," æš‚æ— å¯ç”¨æ¸¸æˆ ")):R("",!0)])]),_:1})]),_:1})])]),e(ye),s("div",Fl,[s("div",jl,[a[17]||(a[17]=s("h3",null,"AIæœåŠ¡æä¾›å•†",-1)),e(g,{type:"primary",onClick:a[1]||(a[1]=o=>$.value=!0)},{default:l(()=>[e(K,null,{default:l(()=>[e(M(ll))]),_:1}),a[16]||(a[16]=s("span",null,"æ·»åŠ æä¾›å•†",-1))]),_:1})]),a[24]||(a[24]=el('<div class="info-box" data-v-5ccdccc7><h4 class="info-title" data-v-5ccdccc7>APIé…ç½®è¯´æ˜</h4><div class="info-content" data-v-5ccdccc7><div data-v-5ccdccc7><strong data-v-5ccdccc7>OpenAIåŠå…¼å®¹æœåŠ¡ï¼š</strong>API URLå¡«å†™å®Œæ•´è·¯å¾„ï¼Œå¦‚ <code class="bg-blue-100 px-1 rounded" data-v-5ccdccc7>https://api.openai.com/v1/chat/completions</code></div><div data-v-5ccdccc7><strong data-v-5ccdccc7>Anthropic Claudeï¼š</strong>API URLå¡«å†™ <code class="bg-blue-100 px-1 rounded" data-v-5ccdccc7>https://api.anthropic.com/v1/messages</code></div><div data-v-5ccdccc7><strong data-v-5ccdccc7>Google Geminiï¼š</strong>API URLå¡«å†™ <code class="bg-blue-100 px-1 rounded" data-v-5ccdccc7>https://generativelanguage.googleapis.com/v1beta</code></div><div data-v-5ccdccc7><strong data-v-5ccdccc7>è‡ªå®šä¹‰æä¾›å•†ï¼š</strong>å¤§å¤šæ•°ç¬¬ä¸‰æ–¹æœåŠ¡ä½¿ç”¨OpenAIå…¼å®¹æ ¼å¼</div></div></div>',1)),O.value.length===0?(c(),_("div",Jl,[e(K,{style:{"font-size":"60px",color:"#dcdfe6","margin-bottom":"16px"}},{default:l(()=>[e(M(qe))]),_:1}),a[18]||(a[18]=s("p",null,"è¿˜æ²¡æœ‰é…ç½®ä»»ä½•AIæä¾›å•†",-1)),a[19]||(a[19]=s("p",{style:{"font-size":"14px","margin-top":"8px",color:"#909399"}},"ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ æ‚¨çš„ç¬¬ä¸€ä¸ªAIæœåŠ¡",-1))])):(c(),_("div",ql,[(c(!0),_(Q,null,X(O.value,o=>{var W;return c(),_("div",{key:o.id,class:"provider-card"},[s("div",Hl,[s("div",Kl,[e(me,{modelValue:o.enabled,"onUpdate:modelValue":V=>o.enabled=V,onChange:V=>se(o)},null,8,["modelValue","onUpdate:modelValue","onChange"]),s("h4",Wl,I(o.name),1),e(ie,{size:"small",type:H(o.type)},{default:l(()=>[f(I(D(o.type)),1)]),_:2},1032,["type"]),o.enabled&&o.api_key?(c(),Y(K,{key:0,style:{color:"#67c23a"},title:"å·²é…ç½®"},{default:l(()=>[e(M(tl))]),_:1})):R("",!0)]),s("div",Ql,[e(g,{size:"small",onClick:V=>G(o),title:"ç¼–è¾‘æä¾›å•†"},{default:l(()=>[e(K,null,{default:l(()=>[e(M(Oe))]),_:1})]),_:1},8,["onClick"]),e(g,{size:"small",type:"danger",onClick:V=>be(o),title:"åˆ é™¤æä¾›å•†"},{default:l(()=>[e(K,null,{default:l(()=>[e(M(Be))]),_:1})]),_:1},8,["onClick"])])]),s("div",Xl,[s("div",Yl,[a[20]||(a[20]=s("label",{class:"field-label"},"APIå¯†é’¥",-1)),e(te,{modelValue:o.api_key,"onUpdate:modelValue":V=>o.api_key=V,type:"password","show-password":"",placeholder:"è¾“å…¥APIå¯†é’¥",onInput:V=>_e(o)},null,8,["modelValue","onUpdate:modelValue","onInput"])]),s("div",Zl,[s("label",ea,[a[21]||(a[21]=f(" API URL ",-1)),o.type!=="custom"?(c(),_("span",la,"(å¯é€‰)")):R("",!0)]),e(te,{modelValue:o.base_url,"onUpdate:modelValue":V=>o.base_url=V,type:"url",placeholder:ne(o.type),onInput:V=>_e(o)},null,8,["modelValue","onUpdate:modelValue","placeholder","onInput"])])]),s("div",null,[s("div",aa,[s("label",ta,"å¯ç”¨æ¨¡å‹ ("+I(((W=o.models)==null?void 0:W.length)||0)+")",1),e(g,{size:"small",type:"primary",link:"",onClick:V=>he(o)},{default:l(()=>[...a[22]||(a[22]=[f(" æ·»åŠ æ¨¡å‹ ",-1)])]),_:1},8,["onClick"])]),s("div",sa,[!o.models||o.models.length===0?(c(),_("div",oa," æš‚æ— æ¨¡å‹ ")):R("",!0),(c(!0),_(Q,null,X(o.models,V=>(c(),_("div",{key:V.id,class:"model-item"},[s("div",na,[e(me,{modelValue:V.enabled,"onUpdate:modelValue":pe=>V.enabled=pe,onChange:pe=>ke(V)},null,8,["modelValue","onUpdate:modelValue","onChange"]),s("span",da,I(V.name),1),V.api_type?(c(),Y(ie,{key:0,size:"small",type:ce(V.api_type)},{default:l(()=>[f(I(de(V.api_type)),1)]),_:2},1032,["type"])):R("",!0)]),s("div",ra,[e(g,{size:"small",onClick:pe=>Ve(o,V),loading:V.id===T.value},{default:l(()=>[...a[23]||(a[23]=[f(" æµ‹è¯• ",-1)])]),_:1},8,["onClick","loading"]),e(g,{size:"small",onClick:pe=>fe(o,V)},{default:l(()=>[e(K,null,{default:l(()=>[e(M(Oe))]),_:1})]),_:1},8,["onClick"]),e(g,{size:"small",type:"danger",onClick:pe=>Pe(o,V)},{default:l(()=>[e(K,null,{default:l(()=>[e(M(Be))]),_:1})]),_:1},8,["onClick"])])]))),128))])])])}),128))]))]),e(Ie,{modelValue:$.value,"onUpdate:modelValue":a[2]||(a[2]=o=>$.value=o),title:"é€‰æ‹©æä¾›å•†ç±»å‹",width:"500px"},{default:l(()=>[s("div",ia,[(c(),_(Q,null,X(u,o=>s("div",{key:o.value,class:"provider-type-card",onClick:W=>n(o.value)},[s("h4",null,I(o.label),1),s("p",null,I(o.description),1)],8,ua)),64))])]),_:1},8,["modelValue"]),e(Ie,{modelValue:k.value,"onUpdate:modelValue":a[7]||(a[7]=o=>k.value=o),title:w.value?"ç¼–è¾‘æä¾›å•†":"æ·»åŠ æä¾›å•†",width:"500px"},{footer:l(()=>[e(g,{onClick:a[6]||(a[6]=o=>k.value=!1)},{default:l(()=>[...a[26]||(a[26]=[f("å–æ¶ˆ",-1)])]),_:1}),e(g,{type:"primary",loading:y.value,onClick:ge},{default:l(()=>[f(I(w.value?"æ›´æ–°":"æ·»åŠ "),1)]),_:1},8,["loading"])]),default:l(()=>[e(p,{model:h.value,"label-width":"100px"},{default:l(()=>[e(j,{label:"ç±»å‹"},{default:l(()=>[e(ie,null,{default:l(()=>[f(I(D(h.value.type)),1)]),_:1})]),_:1}),e(j,{label:"åç§°",required:""},{default:l(()=>[e(te,{modelValue:h.value.name,"onUpdate:modelValue":a[3]||(a[3]=o=>h.value.name=o),placeholder:"è¾“å…¥æä¾›å•†åç§°"},null,8,["modelValue"])]),_:1}),e(j,{label:"APIå¯†é’¥",required:""},{default:l(()=>[e(te,{modelValue:h.value.api_key,"onUpdate:modelValue":a[4]||(a[4]=o=>h.value.api_key=o),type:"password","show-password":"",placeholder:"è¾“å…¥APIå¯†é’¥"},null,8,["modelValue"])]),_:1}),e(j,{label:"API URL"},{default:l(()=>[e(te,{modelValue:h.value.base_url,"onUpdate:modelValue":a[5]||(a[5]=o=>h.value.base_url=o),type:"url",placeholder:ne(h.value.type)},null,8,["modelValue","placeholder"]),a[25]||(a[25]=s("div",{style:{"font-size":"12px",color:"#909399","margin-top":"4px"}},"ç•™ç©ºä½¿ç”¨é»˜è®¤åœ°å€",-1))]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(Ie,{modelValue:x.value,"onUpdate:modelValue":a[12]||(a[12]=o=>x.value=o),title:C.value?"ç¼–è¾‘æ¨¡å‹":"æ·»åŠ æ¨¡å‹",width:"600px"},{footer:l(()=>[e(g,{onClick:le},{default:l(()=>[...a[28]||(a[28]=[f("å–æ¶ˆ",-1)])]),_:1}),e(g,{type:"primary",loading:y.value,onClick:Z},{default:l(()=>[f(I(C.value?"æ›´æ–°":"æ·»åŠ "),1)]),_:1},8,["loading"])]),default:l(()=>[e(p,{model:d.value,"label-width":"100px"},{default:l(()=>[e(j,{label:"APIç±»å‹"},{default:l(()=>[e(ae,{modelValue:d.value.api_type,"onUpdate:modelValue":a[8]||(a[8]=o=>d.value.api_type=o),placeholder:"é€‰æ‹©APIç±»å‹",onChange:ee},{default:l(()=>[e(F,{label:"OpenAI",value:"openai"}),e(F,{label:"Anthropic",value:"anthropic"}),e(F,{label:"Google",value:"google"})]),_:1},8,["modelValue"])]),_:1}),e(j,{label:"æ¨¡å‹ID",required:""},{default:l(()=>[e(te,{modelValue:d.value.model_id,"onUpdate:modelValue":a[9]||(a[9]=o=>d.value.model_id=o),placeholder:"å¦‚ï¼šgpt-4o"},null,8,["modelValue"])]),_:1}),e(j,{label:"æ˜¾ç¤ºåç§°",required:""},{default:l(()=>[e(te,{modelValue:d.value.name,"onUpdate:modelValue":a[10]||(a[10]=o=>d.value.name=o),placeholder:"å¦‚ï¼šGPT-4o"},null,8,["modelValue"])]),_:1}),e(j,{label:""},{default:l(()=>[e(g,{onClick:re,loading:N.value,type:"primary"},{default:l(()=>[e(K,null,{default:l(()=>[e(M(Ke))]),_:1}),a[27]||(a[27]=f(" è·å–æ¨¡å‹åˆ—è¡¨ ",-1))]),_:1},8,["loading"]),U.value.length>0?(c(),_("span",ca," å·²è·å– "+I(U.value.length)+" ä¸ªæ¨¡å‹ ",1)):R("",!0)]),_:1}),U.value.length>0?(c(),Y(j,{key:0,label:"æœç´¢è¿‡æ»¤"},{default:l(()=>[e(te,{modelValue:B.value,"onUpdate:modelValue":a[11]||(a[11]=o=>B.value=o),placeholder:"æœç´¢æ¨¡å‹ï¼ˆæ”¯æŒå¤šå…³é”®è¯ï¼‰",clearable:""},{prefix:l(()=>[e(K,null,{default:l(()=>[e(M(sl))]),_:1})]),_:1},8,["modelValue"])]),_:1})):R("",!0),U.value.length>0?(c(),Y(j,{key:1,label:"å¯ç”¨æ¨¡å‹"},{default:l(()=>[s("div",ma,[(c(!0),_(Q,null,X(r.value,o=>(c(),_("div",{key:o,class:We(["model-select-item",{selected:d.value.model_id===o}]),onClick:W=>$e(o)},I(o),11,pa))),128)),r.value.length===0?(c(),_("div",va," æ²¡æœ‰åŒ¹é…çš„æ¨¡å‹ ")):R("",!0)])]),_:1})):R("",!0),S.value?(c(),Y(Xe,{key:2,type:"error",title:S.value,closable:!1,style:{"margin-bottom":"16px"}},null,8,["title"])):R("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}}),ga=ze(_a,[["__scopeId","data-v-5ccdccc7"]]);class xe{static async chat(b){return await A.post("/admin/ai/chat",b)}static async chatStream(b,O,J,$){var k;console.log("[AIService] chatStream å¼€å§‹, request:",b);try{const x=localStorage.getItem("token"),y="http://localhost:8080";console.log("[AIService] å‡†å¤‡å‘é€è¯·æ±‚åˆ°:",`${y}/api/admin/ai/chat`);const w=await fetch(`${y}/api/admin/ai/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${x}`},body:JSON.stringify({...b,stream:!0})});if(console.log("[AIService] æ”¶åˆ°å“åº”, status:",w.status,"ok:",w.ok),!w.ok){const B=await w.text();throw new Error(`HTTP ${w.status}: ${B}`)}const C=(k=w.body)==null?void 0:k.getReader();if(!C)throw new Error("æ— æ³•è·å–å“åº”æµ");console.log("[AIService] å¼€å§‹è¯»å–æµæ•°æ®...");const P=new TextDecoder;let N="",U=0;for(;;){const{done:B,value:S}=await C.read();if(B){console.log("[AIService] æµè¯»å–å®Œæˆ, æ€»å…±å¤„ç†",U,"ä¸ªchunk"),$();break}const T=P.decode(S,{stream:!0});console.log("[AIService] æ”¶åˆ°åŸå§‹æ•°æ®:",T),N+=T;const q=N.split(`
`);N=q.pop()||"",console.log("[AIService] åˆ†å‰²åçš„è¡Œæ•°:",q.length);for(const E of q){if(console.log("[AIService] å¤„ç†è¡Œ:",JSON.stringify(E)),!E.trim()){console.log("[AIService] è·³è¿‡ç©ºè¡Œ");continue}if(E.startsWith("event:")){console.log("[AIService] è·³è¿‡eventè¡Œ");continue}if(E.startsWith("data:")){const z=E.slice(5).trim();if(console.log("[AIService] æå–data:",z),!z){console.log("[AIService] dataä¸ºç©ºï¼Œè·³è¿‡");continue}try{const L=JSON.parse(z);if(console.log("[AIService] è§£æchunkæˆåŠŸ:",L),L.content!==void 0&&L.content!==""&&(U++,console.log("[AIService] è°ƒç”¨onChunk, content:",JSON.stringify(L.content)),O(L.content)),L.done){console.log("[AIService] æ”¶åˆ°doneä¿¡å·ï¼Œç»“æŸï¼Œæ€»å…±å¤„ç†",U,"ä¸ªchunk"),$();return}}catch(L){console.error("[AIService] è§£æSSEæ•°æ®å¤±è´¥:",L,z)}}else console.log("[AIService] è¡Œä¸ä»¥data:å¼€å¤´:",E)}}}catch(x){console.error("[AIService] chatStreamé”™è¯¯:",x),J(x)}}static async testConnection(b){return await A.post("/admin/ai/test",b)}}const fa=Object.freeze(Object.defineProperty({__proto__:null,AIService:xe},Symbol.toStringTag,{value:"Module"})),ya={class:"playground"},wa={class:"playground-container"},ba={class:"chat-panel"},ha={class:"config-bar"},ka={style:{display:"flex","align-items":"center",gap:"8px"}},Pa={class:"message-role"},Va=["innerHTML"],$a={key:0,class:"message message-assistant"},Ca={class:"input-container"},Aa={class:"input-actions"},Ia=Se({__name:"Playground",setup(ve){const b=De(),O=m([]),J=m([]),$=m(null),k=m(""),x=m(!0),y=m([]),w=m(""),C=m(!1),P=m(!1),N=m(),U=ue(()=>O.value.filter(u=>u.enabled)),B=ue(()=>$.value?J.value.filter(u=>u.provider_id===$.value&&u.enabled):[]),S=u=>{try{const r=Tl(u,{breaks:!0,gfm:!0});return typeof r=="string"?r:String(r)}catch{return u.replace(/\n/g,"<br>")}},T=()=>{k.value="",E()},q=async()=>{try{O.value=await b.getProviders()}catch(u){v.error("åŠ è½½æä¾›å•†å¤±è´¥: "+u.message)}},E=async()=>{if($.value)try{J.value=await b.getModels($.value)}catch(u){v.error("åŠ è½½æ¨¡å‹å¤±è´¥: "+u.message)}},z=()=>{dl(()=>{N.value&&(N.value.scrollTop=N.value.scrollHeight)})},L=u=>{u.ctrlKey&&u.key==="Enter"&&(u.preventDefault(),h())},h=async()=>{if(!w.value.trim()||!k.value||!$.value)return;const u={role:"user",content:w.value.trim()};y.value.push(u),w.value="",z(),console.log("[Playground] å¼€å§‹å‘é€æ¶ˆæ¯");try{if(x.value){console.log("[Playground] ä½¿ç”¨æµå¼æ¨¡å¼"),P.value=!0,z();let r="",D=-1;await xe.chatStream({provider_id:$.value,model_id:k.value,messages:y.value,stream:!0},H=>{console.log("[Playground] onChunk è¢«è°ƒç”¨, content:",JSON.stringify(H),"aiMessageIndex:",D),D===-1&&(console.log("[Playground] åˆ›å»ºæ–°çš„AIæ¶ˆæ¯"),P.value=!1,y.value.push({role:"assistant",content:""}),D=y.value.length-1,console.log("[Playground] AIæ¶ˆæ¯ç´¢å¼•:",D)),r+=H,console.log("[Playground] ç´¯ç§¯å†…å®¹é•¿åº¦:",r.length,"å½“å‰å†…å®¹:",JSON.stringify(r.substring(0,50))),y.value[D].content=r,console.log("[Playground] æ›´æ–°æ¶ˆæ¯å, messagesé•¿åº¦:",y.value.length,"æ¶ˆæ¯å†…å®¹é•¿åº¦:",y.value[D].content.length),z()},H=>{console.error("[Playground] onError è¢«è°ƒç”¨:",H),P.value=!1,C.value=!1,v.error("å¯¹è¯å¤±è´¥: "+H.message)},()=>{console.log("[Playground] onComplete è¢«è°ƒç”¨, æœ€ç»ˆå†…å®¹é•¿åº¦:",r.length),P.value=!1,C.value=!1,z()})}else{C.value=!0;const r=await xe.chat({provider_id:$.value,model_id:k.value,messages:y.value,stream:!1});y.value.push({role:"assistant",content:r.content}),C.value=!1,z()}}catch(r){C.value=!1,P.value=!1,v.error("å‘é€æ¶ˆæ¯å¤±è´¥: "+r.message)}},d=()=>{y.value=[]};return Ue(()=>{q()}),(u,r)=>{const D=Fe,H=Ge,ne=Qe,de=Ee,ce=Te;return c(),_("div",ya,[r[10]||(r[10]=s("div",{class:"playground-header"},[s("h2",null,"AI æ“ç»ƒåœº"),s("p",{class:"header-desc"},"é€‰æ‹©æä¾›å•†å’Œæ¨¡å‹è¿›è¡Œå¯¹è¯æµ‹è¯•")],-1)),s("div",wa,[s("div",ba,[s("div",ha,[e(H,{modelValue:$.value,"onUpdate:modelValue":r[0]||(r[0]=i=>$.value=i),placeholder:"é€‰æ‹©æä¾›å•†",onChange:T,style:{width:"200px"},size:"small"},{default:l(()=>[(c(!0),_(Q,null,X(U.value,i=>(c(),Y(D,{key:i.id,label:i.name,value:i.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),e(H,{modelValue:k.value,"onUpdate:modelValue":r[1]||(r[1]=i=>k.value=i),placeholder:"é€‰æ‹©æ¨¡å‹",disabled:!$.value,style:{width:"250px"},size:"small"},{default:l(()=>[(c(!0),_(Q,null,X(B.value,i=>(c(),Y(D,{key:i.id,label:i.name,value:i.model_id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","disabled"]),s("div",ka,[r[4]||(r[4]=s("span",{style:{"font-size":"14px",color:"#666"}},"æµå¼è¾“å‡º",-1)),e(ne,{modelValue:x.value,"onUpdate:modelValue":r[2]||(r[2]=i=>x.value=i),size:"small"},null,8,["modelValue"])]),r[6]||(r[6]=s("div",{style:{flex:"1"}},null,-1)),e(de,{size:"small",onClick:d,disabled:y.value.length===0},{default:l(()=>[...r[5]||(r[5]=[f(" æ¸…ç©ºå¯¹è¯ ",-1)])]),_:1},8,["disabled"])]),s("div",{class:"messages-container",ref_key:"messagesContainer",ref:N},[(c(!0),_(Q,null,X(y.value,(i,n)=>(c(),_("div",{key:n,class:We(["message",`message-${i.role}`])},[s("div",Pa,I(i.role==="user"?"ç”¨æˆ·":"AI"),1),s("div",{class:"message-content",innerHTML:S(i.content)},null,8,Va)],2))),128)),P.value?(c(),_("div",$a,[...r[7]||(r[7]=[s("div",{class:"message-role"},"AI",-1),s("div",{class:"message-content typing-indicator"},[s("span"),s("span"),s("span")],-1)])])):R("",!0)],512),s("div",Ca,[e(ce,{modelValue:w.value,"onUpdate:modelValue":r[3]||(r[3]=i=>w.value=i),type:"textarea",rows:3,placeholder:"è¾“å…¥æ¶ˆæ¯... (Ctrl+Enter å‘é€)",onKeydown:L,disabled:C.value||!k.value},null,8,["modelValue","disabled"]),s("div",Aa,[r[9]||(r[9]=s("span",{class:"input-hint"},"Ctrl + Enter å‘é€",-1)),e(de,{type:"primary",onClick:h,loading:C.value,disabled:!w.value.trim()||!k.value},{default:l(()=>[...r[8]||(r[8]=[f(" å‘é€ ",-1)])]),_:1},8,["loading","disabled"])])])])])])}}}),Ma=ze(Ia,[["__scopeId","data-v-bebb4a41"]]),xa={class:"admin-container"},Sa={class:"header-content"},Ua={class:"breadcrumb"},Ea={class:"user-info"},Ta={class:"el-dropdown-link"},za={key:0,class:"overview-content"},Da={class:"stats-item"},Oa={class:"stats-number"},Ba={class:"stats-item"},La={class:"stats-number"},Ra={class:"stats-item"},Na={class:"stats-number"},Ga={key:1},Fa={class:"card-header"},ja={key:2},Ja={key:3},qa={key:4},Ha={class:"dialog-footer"},Ka=Se({__name:"AdminView",setup(ve){const b=il(),O=rl(),J=De(),$=m(!1),k=m([]),x=m(!1),y=m(!1),w=m(null),C=m(),P=m("overview"),N=ue(()=>k.value.length),U=ue(()=>k.value.filter(i=>i.is_admin).length),B=m(0),S=Me({siteName:"AI Game Engine",siteDescription:"ä¸€ä¸ªåŸºäºAIçš„æ–‡å­—å†’é™©æ¸¸æˆå¼•æ“",allowRegister:!0}),T=Me({newPassword:"",confirmPassword:""}),E=Me({newPassword:[{required:!0,message:"è¯·è¾“å…¥æ–°å¯†ç ",trigger:"blur"},{min:6,message:"å¯†ç é•¿åº¦ä¸èƒ½å°‘äº 6 ä½",trigger:"blur"}],confirmPassword:[{required:!0,message:"è¯·ç¡®è®¤å¯†ç ",trigger:"blur"},{validator:(i,n,G)=>{n!==T.newPassword?G(new Error("ä¸¤æ¬¡è¾“å…¥å¯†ç ä¸ä¸€è‡´")):G()},trigger:"blur"}]});Ue(()=>{if(!O.isAdmin()){b.push("/chat");return}h()});const z=i=>{P.value=i,i==="users"&&h()},L=()=>({overview:"æ¦‚è§ˆ",users:"ç”¨æˆ·ç®¡ç†",providers:"æä¾›å•†ç®¡ç†",playground:"æ“ç»ƒåœº",system:"ç³»ç»Ÿè®¾ç½®"})[P.value]||"æ¦‚è§ˆ",h=async()=>{$.value=!0;try{k.value=await J.getUsers()}catch(i){console.error("è·å–ç”¨æˆ·åˆ—è¡¨å¤±è´¥:",i)}finally{$.value=!1}},d=()=>{h()},u=i=>{w.value=i,T.newPassword="",T.confirmPassword="",x.value=!0},r=async()=>{if(!(!C.value||!w.value))try{if(!await C.value.validate())return;y.value=!0,await J.updateUserPassword(w.value.id,T.newPassword),v.success("å¯†ç ä¿®æ”¹æˆåŠŸ"),x.value=!1}catch(i){console.error("å¯†ç ä¿®æ”¹å¤±è´¥:",i)}finally{y.value=!1}},D=async i=>{try{await we.confirm(`ç¡®å®šè¦${i.is_admin?"å–æ¶ˆ":"è®¾ç½®"}ç”¨æˆ· "${i.username}" çš„ç®¡ç†å‘˜æƒé™å—ï¼Ÿ`,"ç¡®è®¤æ“ä½œ",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),await J.toggleUserAdmin(i.id),v.success("æƒé™ä¿®æ”¹æˆåŠŸ"),await h()}catch(n){n!=="cancel"&&console.error("æƒé™ä¿®æ”¹å¤±è´¥:",n)}},H=async i=>{try{await we.confirm(`ç¡®å®šè¦åˆ é™¤ç”¨æˆ· "${i.username}" å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ï¼`,"ç¡®è®¤åˆ é™¤",{confirmButtonText:"åˆ é™¤",cancelButtonText:"å–æ¶ˆ",type:"warning"}),await J.deleteUser(i.id),v.success("ç”¨æˆ·åˆ é™¤æˆåŠŸ"),await h()}catch(n){n!=="cancel"&&console.error("ç”¨æˆ·åˆ é™¤å¤±è´¥:",n)}},ne=()=>{O.logout()},de=()=>{b.push("/chat")},ce=()=>{v.success("ç³»ç»Ÿè®¾ç½®å·²ä¿å­˜")};return(i,n)=>{const G=Je,se=pl,_e=ml,be=cl,ge=wl,he=yl,fe=Vl,ke=Pl,Pe=bl,Ve=fl,ee=Ml,re=Il,$e=Al,Z=Ee,le=Ul,Ce=je,Ae=El,oe=Te,t=Ne,a=Qe,g=Re,F=Cl,ae=ul,j=He,ie=Sl;return c(),_("div",xa,[e(ae,{style:{height:"100vh"}},{default:l(()=>[e(be,{width:"250px",class:"admin-sidebar"},{default:l(()=>[n[12]||(n[12]=s("div",{class:"logo"},[s("h3",null,"ç®¡ç†åå°")],-1)),e(_e,{"default-active":P.value,class:"admin-menu","background-color":"#001529","text-color":"#ffffff","active-text-color":"#1890ff",onSelect:z},{default:l(()=>[e(se,{index:"overview"},{default:l(()=>[e(G,null,{default:l(()=>[e(M(vl))]),_:1}),n[7]||(n[7]=s("span",null,"æ¦‚è§ˆ",-1))]),_:1}),e(se,{index:"users"},{default:l(()=>[e(G,null,{default:l(()=>[e(M(_l))]),_:1}),n[8]||(n[8]=s("span",null,"ç”¨æˆ·ç®¡ç†",-1))]),_:1}),e(se,{index:"providers"},{default:l(()=>[e(G,null,{default:l(()=>[e(M(gl))]),_:1}),n[9]||(n[9]=s("span",null,"æä¾›å•†ç®¡ç†",-1))]),_:1}),e(se,{index:"playground"},{default:l(()=>[e(G,null,{default:l(()=>[e(M(Le))]),_:1}),n[10]||(n[10]=s("span",null,"æ“ç»ƒåœº",-1))]),_:1}),e(se,{index:"system"},{default:l(()=>[e(G,null,{default:l(()=>[e(M(qe))]),_:1}),n[11]||(n[11]=s("span",null,"ç³»ç»Ÿè®¾ç½®",-1))]),_:1})]),_:1},8,["default-active"])]),_:1}),e(ae,null,{default:l(()=>[e(Ve,{class:"admin-header"},{default:l(()=>[s("div",Sa,[s("div",Ua,[e(he,{separator:"/"},{default:l(()=>[e(ge,null,{default:l(()=>[...n[13]||(n[13]=[f("ç®¡ç†åå°",-1)])]),_:1}),e(ge,null,{default:l(()=>[f(I(L()),1)]),_:1})]),_:1})]),s("div",Ea,[e(Pe,null,{dropdown:l(()=>[e(ke,null,{default:l(()=>[e(fe,{onClick:de},{default:l(()=>[e(G,null,{default:l(()=>[e(M(Le))]),_:1}),n[14]||(n[14]=f(" è¿”å›ä¸»é¡µ ",-1))]),_:1}),e(fe,{divided:"",onClick:ne},{default:l(()=>[e(G,null,{default:l(()=>[e(M($l))]),_:1}),n[15]||(n[15]=f(" é€€å‡ºç™»å½• ",-1))]),_:1})]),_:1})]),default:l(()=>{var p;return[s("span",Ta,[e(G,null,{default:l(()=>[e(M(hl))]),_:1}),f(" "+I((p=M(O).user)==null?void 0:p.username)+" ",1),e(G,{class:"el-icon--right"},{default:l(()=>[e(M(kl))]),_:1})])]}),_:1})])])]),_:1}),e(F,{class:"admin-main"},{default:l(()=>[P.value==="overview"?(c(),_("div",za,[e($e,{gutter:20},{default:l(()=>[e(re,{span:6},{default:l(()=>[e(ee,{class:"stats-card"},{default:l(()=>[s("div",Da,[s("div",Oa,I(N.value),1),n[16]||(n[16]=s("div",{class:"stats-label"},"æ€»ç”¨æˆ·æ•°",-1))])]),_:1})]),_:1}),e(re,{span:6},{default:l(()=>[e(ee,{class:"stats-card"},{default:l(()=>[s("div",Ba,[s("div",La,I(U.value),1),n[17]||(n[17]=s("div",{class:"stats-label"},"ç®¡ç†å‘˜æ•°",-1))])]),_:1})]),_:1}),e(re,{span:6},{default:l(()=>[e(ee,{class:"stats-card"},{default:l(()=>[s("div",Ra,[s("div",Na,I(B.value),1),n[18]||(n[18]=s("div",{class:"stats-label"},"å¯¹è¯æ€»æ•°",-1))])]),_:1})]),_:1}),e(re,{span:6},{default:l(()=>[e(ee,{class:"stats-card"},{default:l(()=>[...n[19]||(n[19]=[s("div",{class:"stats-item"},[s("div",{class:"stats-number"},"Online"),s("div",{class:"stats-label"},"ç³»ç»ŸçŠ¶æ€")],-1)])]),_:1})]),_:1})]),_:1})])):R("",!0),P.value==="users"?(c(),_("div",Ga,[e(ee,null,{header:l(()=>[s("div",Fa,[n[21]||(n[21]=s("span",null,"ç”¨æˆ·ç®¡ç†",-1)),e(Z,{type:"primary",onClick:d},{default:l(()=>[e(G,null,{default:l(()=>[e(M(Ke))]),_:1}),n[20]||(n[20]=f(" åˆ·æ–° ",-1))]),_:1})])]),default:l(()=>[xl((c(),Y(Ae,{data:k.value,style:{width:"100%"}},{default:l(()=>[e(le,{prop:"id",label:"ID",width:"80"}),e(le,{prop:"username",label:"ç”¨æˆ·å"}),e(le,{prop:"email",label:"é‚®ç®±"}),e(le,{prop:"is_admin",label:"ç®¡ç†å‘˜",width:"100"},{default:l(p=>[e(Ce,{type:p.row.is_admin?"success":"info"},{default:l(()=>[f(I(p.row.is_admin?"æ˜¯":"å¦"),1)]),_:2},1032,["type"])]),_:1}),e(le,{label:"æ“ä½œ",width:"300"},{default:l(p=>{var ye,K;return[e(Z,{size:"small",onClick:me=>u(p.row)},{default:l(()=>[...n[22]||(n[22]=[f(" ä¿®æ”¹å¯†ç  ",-1)])]),_:1},8,["onClick"]),e(Z,{size:"small",type:"warning",onClick:me=>D(p.row),disabled:p.row.id===((ye=M(O).user)==null?void 0:ye.id)},{default:l(()=>[f(I(p.row.is_admin?"å–æ¶ˆç®¡ç†å‘˜":"è®¾ä¸ºç®¡ç†å‘˜"),1)]),_:2},1032,["onClick","disabled"]),e(Z,{size:"small",type:"danger",onClick:me=>H(p.row),disabled:p.row.id===((K=M(O).user)==null?void 0:K.id)},{default:l(()=>[...n[23]||(n[23]=[f(" åˆ é™¤ ",-1)])]),_:1},8,["onClick","disabled"])]}),_:1})]),_:1},8,["data"])),[[ie,$.value]])]),_:1})])):R("",!0),P.value==="providers"?(c(),_("div",ja,[e(ga)])):R("",!0),P.value==="playground"?(c(),_("div",Ja,[e(Ma)])):R("",!0),P.value==="system"?(c(),_("div",qa,[e(ee,null,{header:l(()=>[...n[24]||(n[24]=[s("span",null,"ç³»ç»Ÿè®¾ç½®",-1)])]),default:l(()=>[e(g,{"label-width":"120px"},{default:l(()=>[e(t,{label:"ç³»ç»Ÿåç§°"},{default:l(()=>[e(oe,{modelValue:S.siteName,"onUpdate:modelValue":n[0]||(n[0]=p=>S.siteName=p),placeholder:"AI Chat System"},null,8,["modelValue"])]),_:1}),e(t,{label:"ç³»ç»Ÿæè¿°"},{default:l(()=>[e(oe,{type:"textarea",modelValue:S.siteDescription,"onUpdate:modelValue":n[1]||(n[1]=p=>S.siteDescription=p),placeholder:"ä¸€ä¸ªåŸºäºAIçš„æ™ºèƒ½å¯¹è¯ç³»ç»Ÿ",rows:3},null,8,["modelValue"])]),_:1}),e(t,{label:"å…è®¸æ³¨å†Œ"},{default:l(()=>[e(a,{modelValue:S.allowRegister,"onUpdate:modelValue":n[2]||(n[2]=p=>S.allowRegister=p)},null,8,["modelValue"])]),_:1}),e(t,null,{default:l(()=>[e(Z,{type:"primary",onClick:ce},{default:l(()=>[...n[25]||(n[25]=[f("ä¿å­˜è®¾ç½®",-1)])]),_:1})]),_:1})]),_:1})]),_:1})])):R("",!0)]),_:1})]),_:1})]),_:1}),e(j,{modelValue:x.value,"onUpdate:modelValue":n[6]||(n[6]=p=>x.value=p),title:"ä¿®æ”¹ç”¨æˆ·å¯†ç ",width:"400px"},{footer:l(()=>[s("div",Ha,[e(Z,{onClick:n[5]||(n[5]=p=>x.value=!1)},{default:l(()=>[...n[26]||(n[26]=[f("å–æ¶ˆ",-1)])]),_:1}),e(Z,{type:"primary",onClick:r,loading:y.value},{default:l(()=>[...n[27]||(n[27]=[f(" ç¡®è®¤ ",-1)])]),_:1},8,["loading"])])]),default:l(()=>[e(g,{model:T,rules:E,ref_key:"passwordFormRef",ref:C},{default:l(()=>[e(t,{label:"ç”¨æˆ·å"},{default:l(()=>{var p;return[e(oe,{value:(p=w.value)==null?void 0:p.username,disabled:""},null,8,["value"])]}),_:1}),e(t,{label:"æ–°å¯†ç ",prop:"newPassword"},{default:l(()=>[e(oe,{modelValue:T.newPassword,"onUpdate:modelValue":n[3]||(n[3]=p=>T.newPassword=p),type:"password",placeholder:"è¯·è¾“å…¥æ–°å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1}),e(t,{label:"ç¡®è®¤å¯†ç ",prop:"confirmPassword"},{default:l(()=>[e(oe,{modelValue:T.confirmPassword,"onUpdate:modelValue":n[4]||(n[4]=p=>T.confirmPassword=p),type:"password",placeholder:"è¯·ç¡®è®¤æ–°å¯†ç ","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}}}),Za=ze(Ka,[["__scopeId","data-v-efdc43a2"]]);export{Za as default};
